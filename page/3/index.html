<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="一个前端程序员">
<meta property="og:type" content="website">
<meta property="og:title" content="wk的博客">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="wk的博客">
<meta property="og:description" content="一个前端程序员">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="wk">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>wk的博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">wk的博客</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">记录技术、学习和生活的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="wk"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">wk</p>
  <div class="site-description" itemprop="description">一个前端程序员</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">59</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/wk-Nemo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wk-Nemo" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://juejin.cn/user/3122268755465879" title="掘金 → https:&#x2F;&#x2F;juejin.cn&#x2F;user&#x2F;3122268755465879" rel="noopener me" target="_blank">掘金</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/11/04/go%E7%9A%84%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/11/04/go%E7%9A%84%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">go的数据结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-11-04 17:06:13" itemprop="dateCreated datePublished" datetime="2021-11-04T17:06:13+08:00">2021-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:47:05" itemprop="dateModified" datetime="2023-05-07T17:47:05+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h2><p>函数声明包括<strong>函数名</strong>、<strong>形参</strong>、<strong>返回值</strong>和<strong>函数体</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hypot</span><span class="params">(x, y <span class="type">float64</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(x*x + y*y)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(hypot(<span class="number">3</span>,<span class="number">4</span>)) <span class="comment">// &quot;5&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>形式参数列表描述了函数的参数名以及参数类型。这些参数作为局部变量，其值由参数调用者提供。</li>
<li>返回值列表描述了函数返回值的变量名以及类型。如果函数返回一个无名变量或者没有返回值，返回值列表的括号是可以省略的。</li>
</ul>
<p><strong>如果一组形参或返回值有相同的类型，我们不必为每个形参都写出参数类型。</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">(i, j, k <span class="type">int</span>, s, t <span class="type">string</span>)</span></span>                 &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">(i <span class="type">int</span>, j <span class="type">int</span>, k <span class="type">int</span>,  s <span class="type">string</span>, t <span class="type">string</span>)</span></span> &#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure>

<p><strong>返回值也可以像形式参数一样被命名。</strong> </p>
<ul>
<li>在这种情况下，每个返回值被声明成一个局部变量，并根据该返回值的类型，将其初始化为该类型的零值。 </li>
<li>如果一个函数在声明时，包含返回值列表，该函数必须以 return语句结尾，除非函数明显无法运行到结尾处。</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(x <span class="type">int</span>, y <span class="type">int</span>)</span></span> <span class="type">int</span>   &#123;<span class="keyword">return</span> x + y&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sub</span><span class="params">(x, y <span class="type">int</span>)</span></span> (z <span class="type">int</span>)   &#123; z = x - y; <span class="keyword">return</span>&#125;</span><br></pre></td></tr></table></figure>

<p>在函数体中，<strong>函数的形参作为局部变量，被初始化为调用者提供的值</strong>。函数的形参和有名返回值作为函数最外层的局部变量，被存储在相同的词法块中。</p>
<p><strong>实参通过值的方式传递，因此函数的形参是实参的拷贝。</strong> 对形参进行修改不会影响实参。但是，如果实参包括引用类型，如指针，slice(切片)、map、function、channel等类型，实参可能会由于函数的间接引用被修改。</p>
<h2 id="返回多个值"><a href="#返回多个值" class="headerlink" title="返回多个值"></a>返回多个值</h2><p><strong>在Go中，一个函数可以返回多个值。</strong> 许多标准库中的函数返回2个值，一个是期望得到的返回值，另一个是函数出错时的错误信息。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findLinks</span><span class="params">(url <span class="type">string</span>)</span></span> ([]<span class="type">string</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    resp, err := http.Get(url)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> resp.StatusCode != http.StatusOK &#123;</span><br><span class="line">        resp.Body.Close()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, fmt.Errorf(<span class="string">&quot;getting %s: %s&quot;</span>, url, resp.Status)</span><br><span class="line">    &#125;</span><br><span class="line">    doc, err := html.Parse(resp.Body)</span><br><span class="line">    resp.Body.Close()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, fmt.Errorf(<span class="string">&quot;parsing %s as HTML: %v&quot;</span>, url, err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> visit(<span class="literal">nil</span>, doc), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>调用多返回值函数时，返回给调用者的是一组值，调用者必须显式的将这些值分配给变量</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">links, err := findLinks(url)</span><br></pre></td></tr></table></figure>

<p><strong>如果某个值不被使用，可以将其分配给blank identifier</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">links, _ := findLinks(url) <span class="comment">// errors ignored</span></span><br></pre></td></tr></table></figure>

<p><strong>如果一个函数所有的返回值都有显式的变量名，那么该函数的return语句可以省略操作数。这称之为bare return。</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CountWordsAndImages</span><span class="params">(url <span class="type">string</span>)</span></span> (words, images <span class="type">int</span>, err <span class="type">error</span>) &#123;</span><br><span class="line">    resp, err := http.Get(url)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    doc, err := html.Parse(resp.Body)</span><br><span class="line">    resp.Body.Close()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        err = fmt.Errorf(<span class="string">&quot;parsing HTML: %s&quot;</span>, err)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    words, images = countWordsAndImages(doc)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>按照返回值列表的次序，返回所有的返回值，在上面的例子中，每一个return语句等价于：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return words, images, err</span><br></pre></td></tr></table></figure>



<h2 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h2><p>参数数量可变的函数称为可变参数函数。典型的例子就是fmt.Printf和类似函数。Printf首先接收一个必备的参数，之后接收任意个数的后续参数。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(vals ...<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    total := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, val := <span class="keyword">range</span> vals &#123;</span><br><span class="line">        total += val</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(sum())           <span class="comment">// &quot;0&quot;</span></span><br><span class="line">fmt.Println(sum(<span class="number">3</span>))          <span class="comment">// &quot;3&quot;</span></span><br><span class="line">fmt.Println(sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)) <span class="comment">// &quot;10&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果原始参数已经是切片类型，只需在最后一个参数后加上省略符。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">values := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">fmt.Println(sum(values...)) <span class="comment">// &quot;10&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>拥有函数名的函数只能在包级语法块中被声明，通过函数字面量（function literal），我们可绕过这一限制，在任何表达式中表示一个函数值。函数字面量的语法和函数声明相似，区别在于func关键字后没有函数名。函数值字面量是一种表达式，它的值被称为匿名函数（anonymous function）。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">strings.Map(<span class="function"><span class="keyword">func</span><span class="params">(r <span class="type">rune</span>)</span></span> <span class="type">rune</span> &#123; </span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span> </span><br><span class="line">&#125;, <span class="string">&quot;HAL-9000&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>在函数内部可以声明匿名函数，但不能声明一个正常的函数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">a</span><span class="params">(data1 <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">   fmt.Println(data1)</span><br><span class="line">   b := <span class="function"><span class="keyword">func</span><span class="params">(data2 <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">      fmt.Println(data2)</span><br><span class="line">   &#125;</span><br><span class="line">   b(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="闭包函数"><a href="#闭包函数" class="headerlink" title="闭包函数"></a>闭包函数</h2><p>通过这种方式定义的函数可以访问完整的词法环境（感觉类似js的闭包），这意味着在函数中定义的内部函数可以引用该函数的变量，如下例所示：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// squares返回一个匿名函数。</span></span><br><span class="line"><span class="comment">// 该匿名函数每次被调用时都会返回下一个数的平方。</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">squares</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="type">int</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        x++</span><br><span class="line">        <span class="keyword">return</span> x * x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    f := squares()</span><br><span class="line">    fmt.Println(f()) <span class="comment">// &quot;1&quot;</span></span><br><span class="line">    fmt.Println(f()) <span class="comment">// &quot;4&quot;</span></span><br><span class="line">    fmt.Println(f()) <span class="comment">// &quot;9&quot;</span></span><br><span class="line">    fmt.Println(f()) <span class="comment">// &quot;16&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="自执行函数"><a href="#自执行函数" class="headerlink" title="自执行函数"></a>自执行函数</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 自执行函数</span></span><br><span class="line">   (<span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">   &#125;)()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Deferred函数"><a href="#Deferred函数" class="headerlink" title="Deferred函数"></a>Deferred函数</h2><p>延迟调用，即无论在哪，加了defer的函数会最后执行</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">defer</span> def1()</span><br><span class="line">   fmt.Println(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">   fmt.Println(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">   <span class="keyword">defer</span> def2()</span><br><span class="line">   fmt.Println(<span class="string">&quot;3&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">def1</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;i am defer1&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">def2</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;i am defer2&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后输出结果：</p>
<ul>
<li>1</li>
<li>2</li>
<li>3</li>
<li>i am defer2</li>
<li>i am defer1</li>
<li></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/11/01/go%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/11/01/go%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">go的数据结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-11-01 17:06:13" itemprop="dateCreated datePublished" datetime="2021-11-01T17:06:13+08:00">2021-11-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:47:10" itemprop="dateModified" datetime="2023-05-07T17:47:10+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h2><ul>
<li>整型</li>
<li>浮点数</li>
<li>复数</li>
<li>布尔值</li>
<li>字符串</li>
<li>常量</li>
</ul>
<h2 id="复合数据类型"><a href="#复合数据类型" class="headerlink" title="复合数据类型"></a>复合数据类型</h2><ul>
<li>数组</li>
<li>Slice</li>
<li>Map</li>
<li>结构体</li>
<li>JSON</li>
<li>文本和HTML模板</li>
</ul>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>数组是一个由固定长度的特定类型元素组成的序列，一个数组可以由零个或多个元素组成。</p>
<p>ps：因为数组的长度固定，因此Go语言中很少直接使用数组</p>
<p><strong>1. 数组的每个元素可以通过下标访问</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a [<span class="number">3</span>]<span class="type">int</span>             <span class="comment">// array of 3 integers</span></span><br><span class="line">fmt.Println(a[<span class="number">0</span>])        <span class="comment">// print the first element</span></span><br><span class="line">fmt.Println(a[<span class="built_in">len</span>(a)<span class="number">-1</span>]) <span class="comment">// print the last element, a[2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Print the indices and elements.</span></span><br><span class="line"><span class="keyword">for</span> i, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%d %d\n&quot;</span>, i, v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Print the elements only.</span></span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>2. 数组的每个元素初始化为元素类型对应的零值</strong></p>
<p>可以使用数组面值语法用一组值初始化数组</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> q [<span class="number">3</span>]<span class="type">int</span> = [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">var</span> r [<span class="number">3</span>]<span class="type">int</span> = [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">fmt.Println(r[<span class="number">2</span>]) <span class="comment">// &quot;0&quot;</span></span><br></pre></td></tr></table></figure>

<p>在数组字面值中，如果在数组的长度位置出现的是“…”省略号，则表示数组的长度是根据初始化值的个数来计算。因此，上面q数组的定义可以简化为</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">q := [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, q) <span class="comment">// &quot;[3]int&quot;</span></span><br></pre></td></tr></table></figure>

<p>定义了一个含有100个元素的数组r，最后一个元素被初始化为-1，其它元素都是用0初始化。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r := [...]<span class="type">int</span>&#123;<span class="number">99</span>: <span class="number">-1</span>&#125;</span><br></pre></td></tr></table></figure>

<p>如果一个数组的元素类型是可以相互比较的，那么数组类型也是可以相互比较的，这时候我们可以直接通过&#x3D;&#x3D;比较运算符来比较两个数组，只有当两个数组的所有元素都是相等的时候数组才是相等的。不相等比较运算符!&#x3D;遵循同样的规则。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a := [<span class="number">2</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">b := [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">c := [<span class="number">2</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">3</span>&#125;</span><br><span class="line">fmt.Println(a == b, a == c, b == c) <span class="comment">// &quot;true false false&quot;</span></span><br><span class="line">d := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">fmt.Println(a == d) <span class="comment">// compile error: cannot compare [2]int == [3]int</span></span><br></pre></td></tr></table></figure>



<h2 id="Slice"><a href="#Slice" class="headerlink" title="Slice"></a>Slice</h2><p>Slice（切片）代表变长的序列，序列中每个元素都有相同的类型。一个slice类型一般写作[]T，其中T代表slice中元素的类型；slice的语法和数组很像，只是没有固定长度而已。</p>
<ul>
<li>一个slice是一个轻量级的数据结构，提供了访问数组子序列（或者全部）元素的功能</li>
<li>一个slice由三个部分构成：指针、长度和容量。<ul>
<li>指针指向第一个slice元素对应的底层数组元素的地址，要注意的是slice的第一个元素并不一定就是数组的第一个元素</li>
<li>长度对应slice中元素的数目；长度不能超过容量，容量一般是从slice的开始位置到底层数据的结尾位置</li>
<li>内置的len和cap函数分别返回slice的长度和容量</li>
</ul>
</li>
</ul>
<p>定义一个数组</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">months := [...]<span class="type">string</span>&#123;<span class="number">1</span>: <span class="string">&quot;January&quot;</span>, <span class="comment">/* ... */</span>, <span class="number">12</span>: <span class="string">&quot;December&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>切片操作</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Q2 := months[<span class="number">4</span>:<span class="number">7</span>]</span><br><span class="line">summer := months[<span class="number">6</span>:<span class="number">9</span>]</span><br><span class="line">fmt.Println(Q2)     <span class="comment">// [&quot;April&quot; &quot;May&quot; &quot;June&quot;]</span></span><br><span class="line">fmt.Println(summer) <span class="comment">// [&quot;June&quot; &quot;July&quot; &quot;August&quot;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>slice的切片操作s[i:j]，其中0 ≤ i≤ j≤ cap(s)，用于创建一个新的slice，引用s的从第i个元素开始到第j-1个元素的子序列。</li>
<li>如果i位置的索引被省略的话将使用0代替，如果j位置的索引被省略的话将使用len(s)代替。<ul>
<li>months[1:13]切片操作将引用全部有效的月份，和months[1:]操作等价；</li>
<li>months[:]切片操作则是引用整个数组。</li>
</ul>
</li>
</ul>
<p><strong>如果切片操作超出cap(s)的上限将导致一个panic异常</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(summer[:<span class="number">20</span>]) <span class="comment">// panic: out of range</span></span><br></pre></td></tr></table></figure>

<p><strong>但是超出len(s)则是意味着扩展了slice，因为新slice的长度会变大</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">endlessSummer := summer[:<span class="number">5</span>] <span class="comment">// extend a slice (within capacity)</span></span><br><span class="line">fmt.Println(endlessSummer)  <span class="comment">// &quot;[June July August September October]&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>因为slice值包含指向第一个slice元素的指针，因此向函数传递slice将允许在函数内部修改底层数组的元素。</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverse</span><span class="params">(s []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i, j := <span class="number">0</span>, <span class="built_in">len</span>(s)<span class="number">-1</span>; i &lt; j; i, j = i+<span class="number">1</span>, j<span class="number">-1</span> &#123;</span><br><span class="line">        s[i], s[j] = s[j], s[i]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a := [...]<span class="type">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">reverse(a[:])</span><br><span class="line">fmt.Println(a) <span class="comment">// &quot;[5 4 3 2 1 0]&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>slice vs 数组</strong></p>
<ul>
<li>slice和数组的字面值语法很类似，它们都是用花括弧包含一系列的初始化元素，但是对于slice并没有指明序列的长度。这会隐式地创建一个合适大小的数组，然后slice的指针指向底层的数组。</li>
<li>和数组不同的是，slice之间不能比较，因此我们不能使用&#x3D;&#x3D;操作符来判断两个slice是否含有全部相等元素。</li>
</ul>
<p><strong>内置的append函数用于向slice追加元素</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> runes []<span class="type">rune</span></span><br><span class="line"><span class="keyword">for</span> _, r := <span class="keyword">range</span> <span class="string">&quot;Hello, 世界&quot;</span> &#123;</span><br><span class="line">    runes = <span class="built_in">append</span>(runes, r)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%q\n&quot;</span>, runes) <span class="comment">// &quot;[&#x27;H&#x27; &#x27;e&#x27; &#x27;l&#x27; &#x27;l&#x27; &#x27;o&#x27; &#x27;,&#x27; &#x27; &#x27; &#x27;世&#x27; &#x27;界&#x27;]&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>在Go语言中，一个map就是一个哈希表的引用，map类型可以写为map[K]V，其中K和V分别对应key和value。</p>
<p><strong>创建Map的两种方式：</strong></p>
<ul>
<li><p>内置make函数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ages := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>) <span class="comment">// mapping from strings to ints</span></span><br><span class="line">ages[<span class="string">&quot;alice&quot;</span>] = <span class="number">31</span></span><br><span class="line">ages[<span class="string">&quot;charlie&quot;</span>] = <span class="number">34</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>map字面值语法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ages := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;</span><br><span class="line">    <span class="string">&quot;alice&quot;</span>:   <span class="number">31</span>,</span><br><span class="line">    <span class="string">&quot;charlie&quot;</span>: <span class="number">34</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>访问</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ages[<span class="string">&quot;alice&quot;</span>] = <span class="number">32</span></span><br><span class="line">fmt.Println(ages[<span class="string">&quot;alice&quot;</span>]) <span class="comment">// &quot;32&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>删除</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delete</span>(ages, <span class="string">&quot;alice&quot;</span>) <span class="comment">// remove element ages[&quot;alice&quot;]</span></span><br></pre></td></tr></table></figure>

<p><strong>所有这些操作是安全的</strong>，即使这些元素不在map中也没有关系；如果一个查找失败将返回value类型对应的零值，例如，即使map中不存在“bob”下面的代码也可以正常工作，因为ages[“bob”]失败时将返回0。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ages[<span class="string">&quot;bob&quot;</span>] = ages[<span class="string">&quot;bob&quot;</span>] + <span class="number">1</span> <span class="comment">// happy birthday!</span></span><br></pre></td></tr></table></figure>

<p>但是map中的元素并不是一个变量，因此我们<strong>不能对map的元素进行取址操作</strong>。禁止对map元素取址的原因是map可能随着元素数量的增长而重新分配更大的内存空间，从而可能导致之前的地址无效。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_ = &amp;ages[<span class="string">&quot;bob&quot;</span>] <span class="comment">// compile error: cannot take address of map element</span></span><br></pre></td></tr></table></figure>

<p>要想<strong>遍历map中全部的key&#x2F;value对</strong>的话，可以使用range风格的for循环实现，和之前的slice遍历语法类似。下面的迭代语句将在每次迭代时设置name和age变量，它们对应下一个键&#x2F;值对：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> name, age := <span class="keyword">range</span> ages &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%s\t%d\n&quot;</span>, name, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><p>结构体是一种聚合的数据类型，是由零个或多个任意类型的值聚合成的实体。每个值称为结构体的成员。</p>
<p>下面两个语句声明了一个叫Employee的命名的结构体类型，并且声明了一个Employee类型的变量dilbert：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID        <span class="type">int</span></span><br><span class="line">    Name      <span class="type">string</span></span><br><span class="line">    Address   <span class="type">string</span></span><br><span class="line">    DoB       time.Time</span><br><span class="line">    Position  <span class="type">string</span></span><br><span class="line">    Salary    <span class="type">int</span></span><br><span class="line">    ManagerID <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dilbert Employee</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/29/go%E7%9A%84%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/29/go%E7%9A%84%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">go的程序结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-10-29 17:06:13" itemprop="dateCreated datePublished" datetime="2021-10-29T17:06:13+08:00">2021-10-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:46:53" itemprop="dateModified" datetime="2023-05-07T17:46:53+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="go程序结构"><a href="#go程序结构" class="headerlink" title="go程序结构"></a>go程序结构</h2><ul>
<li>一个Go语言编写的程序对应一个或多个以.go为文件后缀名的源文件</li>
<li>每个源文件中以包的声明语句开始，说明该源文件是属于哪个包</li>
<li>包声明语句之后是import语句导入依赖的其它包</li>
<li>然后是包一级的类型、变量、常量、函数的声明语句，包一级声明语句声明的名字可在整个包对应的每个源文件中访问</li>
<li>最后是各个局部声明，局部声明的名字就只能在函数内部很小的范围被访问。</li>
</ul>
<h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><p>Go语言主要有四种类型的声明语句：</p>
<ul>
<li>var：变量</li>
<li>const：常量</li>
<li>type：类型</li>
<li>func：函数实体</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 包一级声明</span></span><br><span class="line"><span class="keyword">const</span> boilingF = <span class="number">212.0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 局部声明</span></span><br><span class="line">    <span class="keyword">var</span> f = boilingF</span><br><span class="line">    <span class="keyword">var</span> c = (f - <span class="number">32</span>) * <span class="number">5</span> / <span class="number">9</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;boiling point = %g°F or %g°C\n&quot;</span>, f, c)</span><br><span class="line">    <span class="comment">// Output:</span></span><br><span class="line">    <span class="comment">// boiling point = 212°F or 100°C</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>var声明语句可以创建一个特定类型的变量，然后给变量附加一个名字，并且设置变量的初始值。变量声明的一般语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var 变量名字 类型 = 表达式</span><br></pre></td></tr></table></figure>

<p>其中“<em>类型</em>”或“*&#x3D; 表达式*”两个部分可以省略其中的一个。</p>
<ul>
<li>如果省略的是类型信息，那么将根据初始化表达式来推导变量的类型信息。</li>
<li>如果初始化表达式被省略，那么将用零值初始化该变量。 <ul>
<li>数值类型变量对应的零值是0</li>
<li>布尔类型变量对应的零值是false</li>
<li>字符串类型对应的零值是空字符串</li>
<li>接口或引用类型（包括slice、指针、map、chan和函数）变量对应的零值是nil</li>
<li>数组或结构体等聚合类型对应的零值是每个元素或字段都是对应该类型的零值。</li>
</ul>
</li>
</ul>
<h5 id="1-简短变量声明"><a href="#1-简短变量声明" class="headerlink" title="1. 简短变量声明"></a>1. 简短变量声明</h5><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">anim := gif.GIF&#123;LoopCount: nframes&#125;</span><br><span class="line">freq := rand.Float64() * <span class="number">3.0</span></span><br><span class="line">t := <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 同时声明多个变量</span></span><br><span class="line">i, j := <span class="number">0</span>, <span class="number">1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>简短变量声明左边的变量可能并不是全部都是刚刚声明的。如果有一些已经在相同的词法域声明过了，那么简短变量声明语句对这些已经声明过的变量就只有赋值行为了。</li>
<li>简短变量声明语句中必须至少要声明一个新的变量，否则编译无法通过</li>
</ul>
<h5 id="2-指针"><a href="#2-指针" class="headerlink" title="2. 指针"></a>2. 指针</h5><p>一个指针的值是另一个变量的地址。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">1</span></span><br><span class="line">p := &amp;x         <span class="comment">// &amp;x 取x的内存地址</span></span><br><span class="line">fmt.Println(*p) <span class="comment">// &quot;1&quot;</span></span><br><span class="line">*p = <span class="number">2</span>          <span class="comment">// *p p指针指向的变量的值</span></span><br><span class="line">fmt.Println(x)  <span class="comment">// &quot;2&quot;</span></span><br></pre></td></tr></table></figure>

<h5 id="3-new-函数"><a href="#3-new-函数" class="headerlink" title="3. new 函数"></a>3. new 函数</h5><p>另一个创建变量的方法是调用内建的new函数。表达式new(T)将创建一个T类型的匿名变量，初始化为T类型的零值，然后返回变量地址，返回的指针类型为<code>*T</code>。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p := <span class="built_in">new</span>(<span class="type">int</span>)   <span class="comment">// p, *int 类型, 指向匿名的 int 变量</span></span><br><span class="line">fmt.Println(*p) <span class="comment">// &quot;0&quot;</span></span><br><span class="line">*p = <span class="number">2</span>          <span class="comment">// 设置 int 匿名变量的值为 2</span></span><br><span class="line">fmt.Println(*p) <span class="comment">// &quot;2&quot;</span></span><br></pre></td></tr></table></figure>

<p>new函数类似是一种语法糖，用new创建变量和普通变量声明语句方式创建变量没有什么区别</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newInt</span><span class="params">()</span></span> *<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">new</span>(<span class="type">int</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newInt</span><span class="params">()</span></span> *<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> dummy <span class="type">int</span></span><br><span class="line">    <span class="keyword">return</span> &amp;dummy</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面了解了变量的声明，下面继续学习<strong>变量的生命周期</strong></p>
<ul>
<li>对于在包一级声明的变量来说，它们的生命周期和整个程序的运行周期是一致的。</li>
<li>而相比之下，局部变量的生命周期则是动态的：每次从创建一个新变量的声明语句开始，直到该变量不再被引用为止，然后变量的存储空间可能被回收。函数的参数变量和返回值变量都是局部变量</li>
</ul>
<h2 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span>                       <span class="comment">// 命名变量的赋值</span></span><br><span class="line">*p = <span class="literal">true</span>                   <span class="comment">// 通过指针间接赋值</span></span><br><span class="line">person.name = <span class="string">&quot;bob&quot;</span>         <span class="comment">// 结构体字段赋值</span></span><br><span class="line">count[x] = count[x] * scale <span class="comment">// 数组、slice或map的元素赋值</span></span><br></pre></td></tr></table></figure>

<p><strong>元组赋值：</strong> 元组赋值是另一种形式的赋值语句，它允许同时更新多个变量的值。在赋值之前，赋值语句右边的所有表达式将会先进行求值，然后再统一更新左边对应变量的值。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x, y = y, x</span><br><span class="line"></span><br><span class="line">a[i], a[j] = a[j], a[i]</span><br></pre></td></tr></table></figure>

<p><strong>可赋值性：</strong> 赋值语句是显式的赋值形式，但是程序中还有很多地方会发生隐式的赋值行为。</p>
<ul>
<li>函数调用会隐式地将调用参数的值赋值给函数的参数变量</li>
<li>一个返回语句会隐式地将返回操作的值赋值给结果变量</li>
<li>一个复合类型的字面量也会产生赋值行为。</li>
</ul>
<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><p>一个类型声明语句创建了一个新的类型名称，和现有类型具有相同的底层结构。新命名的类型提供了一个方法，用来分隔不同概念的类型，这样即使它们底层类型相同也是不兼容的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type 类型名字 底层类型</span><br></pre></td></tr></table></figure>

<p>类型声明语句一般出现在包一级，因此如果新创建的类型名字的首字符大写，则在包外部也可以使用。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> tempconv</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Celsius <span class="type">float64</span>    <span class="comment">// 摄氏温度</span></span><br><span class="line"><span class="keyword">type</span> Fahrenheit <span class="type">float64</span> <span class="comment">// 华氏温度</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    AbsoluteZeroC Celsius = <span class="number">-273.15</span> <span class="comment">// 绝对零度</span></span><br><span class="line">    FreezingC     Celsius = <span class="number">0</span>       <span class="comment">// 结冰点温度</span></span><br><span class="line">    BoilingC      Celsius = <span class="number">100</span>     <span class="comment">// 沸水温度</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CToF</span><span class="params">(c Celsius)</span></span> Fahrenheit &#123; <span class="keyword">return</span> Fahrenheit(c*<span class="number">9</span>/<span class="number">5</span> + <span class="number">32</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">FToC</span><span class="params">(f Fahrenheit)</span></span> Celsius &#123; <span class="keyword">return</span> Celsius((f - <span class="number">32</span>) * <span class="number">5</span> / <span class="number">9</span>) &#125;</span><br></pre></td></tr></table></figure>

<p>对于每一个类型T，都有一个对应的类型转换操作T(x)，用于将x转为T类型（译注：如果T是指针类型，可能会需要用小括弧包装T，比如<code>(*int)(0)</code>）。</p>
<ul>
<li>只有当两个类型的底层基础类型相同时，才允许这种转型操作</li>
<li>或者是两者都是指向相同底层结构的指针类型，这些转换只改变类型而不会影响值本身。</li>
<li>如果x是可以赋值给T类型的值，那么x必然也可以被转为T类型，但是一般没有这个必要。</li>
</ul>
<h2 id="包和文件"><a href="#包和文件" class="headerlink" title="包和文件"></a>包和文件</h2><p>Go语言中的包和其他语言的库或模块的概念类似，目的都是为了支持模块化、封装、单独编译和代码重用。一个包的源代码保存在一个或多个以.go为文件后缀名的源文件中，通常一个包所在目录路径的后缀是包的导入路径；</p>
<ul>
<li><p>每个包都对应一个独立的名字空间。</p>
<p> 在image包中的Decode函数和在unicode&#x2F;utf16包中的 Decode函数是不同的。要在外部引用该函数，必须显式使用image.Decode或utf16.Decode形式访问。</p>
</li>
<li><p>包还可以让我们通过控制哪些名字是外部可见的来隐藏内部实现信息。</p>
<p>  在Go语言中，一个简单的规则是：如果一个名字是大写字母开头的，那么该名字是导出的</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/29/go%E5%BC%80%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/29/go%E5%BC%80%E7%AF%87/" class="post-title-link" itemprop="url">go开篇</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-10-29 17:05:50" itemprop="dateCreated datePublished" datetime="2021-10-29T17:05:50+08:00">2021-10-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:47:14" itemprop="dateModified" datetime="2023-05-07T17:47:14+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Golang的学习方向"><a href="#Golang的学习方向" class="headerlink" title="Golang的学习方向"></a>Golang的学习方向</h2><ul>
<li>区块链研发工程师</li>
<li>Go服务端工程师</li>
<li>Go游戏软件工程师</li>
<li>Golang分布式&#x2F;云计算软件工程师</li>
</ul>
<h2 id="Go开发环境准备"><a href="#Go开发环境准备" class="headerlink" title="Go开发环境准备"></a>Go开发环境准备</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zsy/p/5215336.html">GO语言下载、安装、配置</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zsy/p/5223957.html">在Visual Studio Code中配置GO开发环境</a></p>
</blockquote>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><p>传世经典<code>Hello World</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(os.Args[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> s, sep <span class="type">string</span></span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">1</span>; i &lt; <span class="built_in">len</span>(os.Args); i++ &#123;</span><br><span class="line">		s += sep + os.Args[i]</span><br><span class="line">		sep = <span class="string">&quot; &quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(s)</span><br><span class="line"></span><br><span class="line">	s = <span class="string">&quot;&quot;</span></span><br><span class="line">	sep =  <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> _, arg := <span class="keyword">range</span> os.Args[<span class="number">1</span>:] &#123;</span><br><span class="line">		s += sep + arg</span><br><span class="line">		sep = <span class="string">&quot; &quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(s)</span><br><span class="line"></span><br><span class="line">	fmt.Println(strings.Join(os.Args[<span class="number">1</span>:], <span class="string">&quot; &quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="输入输出流"><a href="#输入输出流" class="headerlink" title="输入输出流"></a>输入输出流</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	counts := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">	input := bufio.NewScanner(os.Stdin)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> input.Scan() &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%s\n&quot;</span>, input.Text())</span><br><span class="line">		counts[input.Text()]++</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> line, n := <span class="keyword">range</span> counts &#123;</span><br><span class="line">			fmt.Printf(<span class="string">&quot;%d %s\n&quot;</span>, n, line)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> _, url := <span class="keyword">range</span> os.Args[<span class="number">1</span>:] &#123;</span><br><span class="line">		resp, err := http.Get(url)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> url != <span class="literal">nil</span> &#123;</span><br><span class="line">			fmt.Fprintf(os.Stderr, <span class="string">&quot;fetch: %v\n&quot;</span>, err)</span><br><span class="line">			os.Exit(<span class="number">1</span>)</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		b, err := ioutil.ReadAll(resp.Body)</span><br><span class="line">		resp.Body.Close()</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			fmt.Fprintf(os.Stderr, <span class="string">&quot;fetch: reading %s: %v\n&quot;</span>, url, err)</span><br><span class="line">			os.Exit(<span class="number">1</span>)</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		fmt.Printf(<span class="string">&quot;%s&quot;</span>, b)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="并发编程"><a href="#并发编程" class="headerlink" title="并发编程"></a>并发编程</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fetchall fetches URLs in parallel and reports their times and sizes.</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    start := time.Now()</span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    <span class="keyword">for</span> _, url := <span class="keyword">range</span> os.Args[<span class="number">1</span>:] &#123;</span><br><span class="line">        <span class="keyword">go</span> fetch(url, ch) <span class="comment">// start a goroutine</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">range</span> os.Args[<span class="number">1</span>:] &#123;</span><br><span class="line">        fmt.Println(&lt;-ch) <span class="comment">// receive from channel ch</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%.2fs elapsed\n&quot;</span>, time.Since(start).Seconds())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fetch</span><span class="params">(url <span class="type">string</span>, ch <span class="keyword">chan</span>&lt;- <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">    start := time.Now()</span><br><span class="line">    resp, err := http.Get(url)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        ch &lt;- fmt.Sprint(err) <span class="comment">// send to channel ch</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    nbytes, err := io.Copy(ioutil.Discard, resp.Body)</span><br><span class="line">    resp.Body.Close() <span class="comment">// don&#x27;t leak resources</span></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        ch &lt;- fmt.Sprintf(<span class="string">&quot;while reading %s: %v&quot;</span>, url, err)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    secs := time.Since(start).Seconds()</span><br><span class="line">    ch &lt;- fmt.Sprintf(<span class="string">&quot;%.2fs  %7d  %s&quot;</span>, secs, nbytes, url)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Web服务"><a href="#Web服务" class="headerlink" title="Web服务"></a>Web服务</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mu sync.Mutex</span><br><span class="line"><span class="keyword">var</span> count <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	http.HandleFunc(<span class="string">&quot;/&quot;</span>, handler)</span><br><span class="line">	http.HandleFunc(<span class="string">&quot;/count&quot;</span>, counter)</span><br><span class="line">	log.Fatal(http.ListenAndServe(<span class="string">&quot;localhost:8000&quot;</span>, <span class="literal">nil</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// handler echoes the Path component of the requested URL.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">handler</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">	mu.Lock()</span><br><span class="line">	count++</span><br><span class="line">	mu.Unlock()</span><br><span class="line">	fmt.Fprintf(w, <span class="string">&quot;URL.Path = %q\n&quot;</span>, r.URL.Path)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// counter echoes the number of calls so far.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">counter</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class="line">	mu.Lock()</span><br><span class="line">	fmt.Fprintf(w, <span class="string">&quot;Count %d\n&quot;</span>, count)</span><br><span class="line">	mu.Unlock()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/20/2022%E6%88%91%E7%9A%84%E7%A7%8B%E6%8B%9B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/20/2022%E6%88%91%E7%9A%84%E7%A7%8B%E6%8B%9B/" class="post-title-link" itemprop="url">2022我的秋招</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-10-20 21:19:29" itemprop="dateCreated datePublished" datetime="2021-10-20T21:19:29+08:00">2021-10-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:21:42" itemprop="dateModified" datetime="2023-05-07T17:21:42+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93%E6%84%9F%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">个人总结感想</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>前几天发了一篇关于自己的学习感受的博客：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7020222292089110565">学习前端九个月拿下大厂offer，我干了些啥</a>，收到了不少人的认可。所以这里打算来一篇干货，聊一聊自己的秋招是如何准备的。</p>
<h2 id="准备阶段"><a href="#准备阶段" class="headerlink" title="准备阶段"></a>准备阶段</h2><p><strong>九月份之前准备面试，主要是针对自己的简历进行复习：</strong></p>
<ul>
<li>基础部分：需要牢固掌握的<ul>
<li>html、css、js</li>
<li>浏览器相关</li>
<li>计算机网络</li>
<li>数据结构以及常见算法题目</li>
</ul>
</li>
<li>框架&amp;项目：经常使用，但是没有系统总结过的内容<ul>
<li>vue相关的基础知识、原理以及项目</li>
<li>react相关的基础知识、原理以及项目</li>
<li>uniapp开发微信小程序</li>
</ul>
</li>
<li>实习<ul>
<li>做了什么？</li>
<li>学到了什么？</li>
</ul>
</li>
<li>加分项：之前接触过，但没有经常使用以及深入了解，后期有时间去了解一下<ul>
<li>node.js，express框架，koa框架，egg.js框架</li>
<li>webpack的的核心概念以及性能优化</li>
<li>项目优化部分</li>
</ul>
</li>
</ul>
<h2 id="简历准备"><a href="#简历准备" class="headerlink" title="简历准备"></a>简历准备</h2><p>简历是十分重要的一环，因为通过简历会给面试官一个大致的映像，通过简历和最开始的自我介绍可以暗示面试官一些自己的亮点，从而和面试官有良好的聊天体验。</p>
<h3 id="1-面试之前需要怎么准备"><a href="#1-面试之前需要怎么准备" class="headerlink" title="1. 面试之前需要怎么准备"></a>1. 面试之前需要怎么准备</h3><ul>
<li>面试的流程</li>
<li>JD分析</li>
<li>如何写简历</li>
<li>准备工作和注意事项</li>
</ul>
<h3 id="2-面试流程"><a href="#2-面试流程" class="headerlink" title="2. 面试流程"></a>2. 面试流程</h3><ul>
<li>一面：考察基础知识</li>
<li>二面（交叉面）：始于基础知识，终于项目。可能会有多轮交叉面。</li>
<li>三面：leader面试，更多交流角色定位，对产品的想法之类的，不会有太多的技术问题。</li>
<li>hr面试：低调一点，如实回答，保持积极、乐观、自信的心态。薪资正常去谈。</li>
</ul>
<p>Ps：校招看重基础知识能力，主要看重一面。</p>
<h3 id="3-如何写简历"><a href="#3-如何写简历" class="headerlink" title="3. 如何写简历"></a>3. 如何写简历</h3><ul>
<li>内容简介<ul>
<li>个人信息</li>
<li>教育经历</li>
<li>专业技能</li>
<li>实习经历</li>
<li>项目经历</li>
<li>博客和开源</li>
</ul>
</li>
<li>直击重点，表现自己的优势</li>
</ul>
<h2 id="投递阶段"><a href="#投递阶段" class="headerlink" title="投递阶段"></a>投递阶段</h2><p><strong>九月份以后开始陆续投递简历：</strong></p>
<ul>
<li>边学边投简历，多看面经查缺补漏</li>
<li>坚持刷题</li>
<li>找可靠的人，确定有hc的人进行内推</li>
<li>积极准备面试</li>
</ul>
<h1 id="1-基础内容"><a href="#1-基础内容" class="headerlink" title="1. 基础内容"></a>1. 基础内容</h1><p>基础内容分为：<strong>html</strong>、<strong>css</strong>、<strong>js</strong>、<strong>浏览器</strong>、<strong>计网</strong>、<strong>数据结构和算法</strong>。</p>
<h2 id="html、css"><a href="#html、css" class="headerlink" title="html、css"></a>html、css</h2><p>针对常见面试题进行总结：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6998576161382989861">秋招保驾护航——HTML、CSS篇</a></p>
<ul>
<li>HTML语义化</li>
<li>块级元素和内联元素</li>
<li>盒子模型</li>
<li>margin</li>
<li>BFC</li>
<li>float布局</li>
<li>flex布局</li>
<li>定位问题</li>
<li>响应式布局</li>
</ul>
<h2 id="js"><a href="#js" class="headerlink" title="js"></a>js</h2><blockquote>
<p>推荐书籍：《js高级程序设计》和《你不知道的js》</p>
</blockquote>
<p>js 首先对基础知识进行总结，能够应对面试中的常见问题。最重要的还是搭建自己的js知识体系，毕竟js是吃饭的本钱，要一直深入的学习，每次总结都会有新的体验，推翻自己之前的认知。</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6987776819281805342/">秋招保驾护航——js面试篇（上）</a></p>
<ul>
<li>js中的数据类型 </li>
<li>js的垃圾回收机制</li>
<li>js中的数组</li>
<li>js中的函数</li>
<li>js的面向对象编程</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6988515657105047559">秋招保驾护航——js面试篇（下）</a></p>
<ul>
<li>js的异步编程</li>
<li>js的模块化管理 </li>
<li>ES6新特性</li>
<li>事件</li>
<li>ajax</li>
</ul>
<h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><p>面试的重头戏之一，下面的问题在面试中反复被提问，最重要的是理解，然后自己能组织语言说出自己的理解。</p>
<p><a target="_blank" rel="noopener" href="http://blog.wutortoise.cn/2021/08/10/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E2%80%94%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AF%87">前端秋招保驾护航————浏览器篇</a></p>
<ul>
<li>HTML中使用js</li>
<li>浏览器缓存：强缓存和协商缓存</li>
<li>浏览器本地存储:cookie、localStorage和sessionStore</li>
<li>从网络的角度：输入URL发生了什么</li>
<li>从浏览器解析的角度：输入URL发生了什么</li>
<li>从浏览器渲染的角度：输入URL发生了什么</li>
<li>从浏览器回流和重绘的角度：输入URL发生了什么</li>
<li>跨域的解决办法</li>
<li>网络安全</li>
</ul>
<h2 id="计算机网络"><a href="#计算机网络" class="headerlink" title="计算机网络"></a>计算机网络</h2><p>计算机基础，面试中传输层和应用层常被问到，有时间还是建议可以系统的学习一下</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7002150458189938718">秋招保驾护航——计算机网络</a></p>
<ul>
<li>概述</li>
<li>物理层</li>
<li>数据链路层</li>
<li>网络层：IP协议</li>
<li>传输层：TCP、UDP、可靠传输</li>
<li>应用层：HTTP、HTTPS</li>
</ul>
<h2 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h2><p>重点中的重点，<strong>面试一般编程没写出来就g了</strong>，这个没什么技巧，就是多写。最开始的时候会纠结从哪里入手，然后最后就一直没开始，解决这种问题最好的办法就是经历几次面试笔试的打击（手动滑稽）。言归正传，首先就是js的一些手写题，这些在<strong>学习js的时候就要有意识的去了解，在后面可以结合一些优秀的博客系统的总结</strong>；再其次是数据结构和算法，<strong>数据结构这门课还是要好好的学习，并且学习的过程中使用js多敲一敲代码，然后结合leetcode刷一些相对应的题目</strong>（leetcode上有一个专门的板块是剑指offer按照数据结构模块划分的）。这样在<strong>面试前夕就可以理解大部分算法题目，自己也有了一定的题感，这时候我建议刷高频笔试题，因为面试很多题目都在这里面</strong>。</p>
<p>下面是我的部分刷题心路历程，仅供参考。</p>
<p><strong>js手写题：</strong></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6987776819281805342/">秋招保驾护航——js面试篇（上）</a></p>
<ul>
<li>Array.map() </li>
<li>Array.forEach() </li>
<li>Array.fliter() </li>
<li>Array.reduce() </li>
<li>数组去重</li>
<li>数组扁平</li>
<li>arguments转换成数组</li>
<li>手写new </li>
<li>闭包的产生</li>
<li>函数柯里化</li>
<li>call</li>
<li>apply</li>
<li>bind </li>
<li>对象的各种创建阶段</li>
<li>深拷贝和浅拷贝</li>
<li>继承实现的各种方法</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6988515657105047559">秋招保驾护航——js面试篇（下）</a></p>
<ul>
<li>防抖和节流</li>
<li>手写Promise以及相API</li>
</ul>
<p><strong>数据结构和：</strong></p>
<ul>
<li>栈、队列</li>
<li>数组、链表</li>
<li>树</li>
<li>堆</li>
<li>图</li>
<li>排序：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903444365443080">十大经典排序算法总结（JavaScript描述）</a> 【done】</li>
</ul>
<p><strong>算法：</strong></p>
<ul>
<li>递归：LeetCode70、112、509</li>
<li>分治：LeetCode23、169、240 </li>
<li>单调栈：LeetCode84、85、739、503</li>
<li>并查集：LeetCode547、200、684</li>
<li>滑动窗口：LeetCode209、3、1004、1208</li>
<li>前缀和：LeetCode724、560、437、1248</li>
<li>差分：LeetCode1094、121、122</li>
<li>拓扑排序：LeetCode210</li>
<li>字符串：LeetCode5、20、43、93</li>
<li>二分查找：LeetCode33、34</li>
<li>BFS：LeetCode127、139、130、529、815</li>
<li>DFS&amp;回溯：：LeetCode934、685、1102、531、533、113、332</li>
<li>动态规划：LeetCode213、123、62、63、361、1230</li>
<li>贪心算法：LeetCode55、435、621、452</li>
<li>字典树：LeetCode820、208、648</li>
</ul>
<p><strong>高频笔试题：</strong><a target="_blank" rel="noopener" href="https://www.nowcoder.com/activity/oj">程序员面试高频题</a></p>
<ul>
<li>反转链表</li>
<li>排序</li>
<li>设计LRU缓存结构</li>
<li>二叉树的前、中、后序遍历</li>
<li>最小的K个数</li>
<li>求二叉树的层序遍历</li>
<li>寻找最大K</li>
<li>两数之和</li>
<li>合并两个有序的数组</li>
<li>用两个栈实现队列</li>
<li>跳台阶</li>
<li>链表中的节点每k个一组翻转</li>
<li>子数组的最大累计问题</li>
<li>反转字符串</li>
<li>子数组的最大累加和问题</li>
<li>链表中环的入口结点</li>
<li>括号序列</li>
<li>删除链表的倒数第n个节点</li>
<li>二分查找</li>
<li>最长无重复子数组</li>
<li>在二叉树中找到两个节点的最近公共祖先</li>
</ul>
<p><strong>Leetcode高频题目：</strong></p>
<ul>
<li>两数之和 【hashmap done】</li>
<li>两数相加 【数学 done】</li>
<li>无重复最长子串 【set结构 done】</li>
<li>寻找两个正序数组的中位数 【done】</li>
<li>最长回文串 【动态规划 done】</li>
<li>盛水最多容器 【贪心 done】</li>
<li>三数之和</li>
<li>电话号码的字母组合【回溯法 done】</li>
<li>有效括号 【hashmap done】</li>
<li>搜索旋转排序数组 【二分查找 done】</li>
<li>最大子序和 【动态规划 done】</li>
<li>爬楼梯 【动态规划 done】</li>
<li>二叉树的遍历 【树的遍历 done】</li>
<li>二叉树的层序遍历 【字面意思 done】</li>
<li>二叉树的最大深度 【后序遍历 done】</li>
<li>从前序与中序遍历序列构造二叉树</li>
<li>买卖股票的最佳时机 【贪心 done】</li>
<li>只出现一次的数字 【位运算 done】</li>
<li>环项链表 【双指针 done】</li>
<li>岛屿数量 【dfs done】</li>
<li>旋转图像 【数学 done】</li>
</ul>
<h2 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h2><p>基础课程之一，前端面试的频率较低，但是还是建议学习理解，而不是强行背诵八股文。</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7007690805573845028">秋招保驾护航——操作系统篇</a></p>
<p><strong>基本概念：</strong></p>
<ul>
<li>操作系统的概念、特征、提供的服务</li>
<li>特权指令、非特权指令、操作系统的内核</li>
<li>中断和异常</li>
<li>系统调用</li>
</ul>
<p><strong>进程：</strong></p>
<ul>
<li>进程的定义、组成、组织方式、特征</li>
<li>进程的状态和转换（5中状态、7种状态）</li>
<li>进程的通信：共享存储、管道通信、消息传递</li>
<li>进程和线程的区别</li>
<li>处理机的调度：高级调度（作业调度）、中级调度（虚拟存储技术）、低级调度（进程调度）</li>
<li>进程调度算法： FCFS、短进程优先调度、时间轮片调度算法、不可剥夺优先级调度算法、可剥夺优先级调度算法</li>
<li>进程的同步、互斥</li>
<li>进程互斥的实现：软件层面、硬件层面、信号量、管程</li>
<li>死锁的概念、产生条件、发生时机</li>
<li>死锁的处理方法：预防死锁、避免死锁（银行家算法）、死锁的检测和解除</li>
</ul>
<p><strong>存储管理：</strong></p>
<ul>
<li>负责内存空间的分配和回收</li>
<li>提供某种技术从逻辑上对内存空间进行扩充（虚拟内存技术）</li>
<li>地址转换功能，逻辑地址到物理地址的转换，程序员只要关心逻辑地址上的变化<ul>
<li>绝对装入：编译器负责地址转换（单批道，无操作系统）</li>
<li>可重定位装入：装入程序负责地址转换（早期多批道处理阶段）</li>
<li>动态运行时装入：运行时才进行地址转换（现代操作系统）</li>
</ul>
</li>
<li>操作系统需要提供内存保护功能，保证各个进程在各自存储空间内运行，互不干扰<ul>
<li>设置上下限寄存器</li>
<li>利用重定位寄存器、界地址寄存器进行判断</li>
</ul>
</li>
</ul>
<p><strong>文件管理：</strong></p>
<ul>
<li>文件内部数据如何组织起来？</li>
<li>文件之间如何组织起来？</li>
<li>从下往上看，os应该提供哪些功能来方便用户使用？</li>
<li>从上往下看，文件数据应该如何被存放到外存磁盘上？</li>
</ul>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p>基础课程之一，前端面试的频率较低，但是还是建议学习理解，而不是强行背诵八股文。</p>
<p><a target="_blank" rel="noopener" href="http://blog.wutortoise.cn/2021/09/09/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AF%87">秋招保驾护航——数据库篇</a></p>
<p><strong>数据库的基本概念:</strong></p>
<ul>
<li>数据库、数据库管理系统、SQL、MySQL</li>
<li>数据库常见操作指令</li>
<li>表</li>
</ul>
<p><strong>Mysql的使用：</strong></p>
<ul>
<li>常见的使用方式</li>
<li>常见的问题</li>
</ul>
<p><strong>约束：</strong></p>
<ul>
<li>非空约束</li>
<li>唯一约束</li>
<li>主键约束</li>
<li>外键约束</li>
</ul>
<p><strong>事务：</strong></p>
<ul>
<li>什么是事务</li>
<li>事务的特性</li>
<li>事务的隔离级别</li>
</ul>
<p><strong>索引：</strong></p>
<ul>
<li>MySQL引擎对比：MYISAM、INNODB</li>
<li>索引的方式：Hash、B+</li>
<li>索引的分类：普通索引、唯一索引、主键索引、全文索引、组合索引</li>
<li>索引的优缺点</li>
</ul>
<p><strong>数据库的设计：</strong></p>
<ul>
<li>表与表之间的关系</li>
<li>范式：1NF 2NF 3NF BCNF 4NF 5NF</li>
</ul>
<h1 id="2-框架-amp-项目"><a href="#2-框架-amp-项目" class="headerlink" title="2. 框架&amp;项目"></a>2. 框架&amp;项目</h1><p>现在公司开发基本上都是框架（vue、react），所以大家会比较熟悉，我的学习过程如下：</p>
<ul>
<li>先阅读文档，跟着后面写一些demo</li>
<li>再上慕课网上买一些实战课程，看看大厂的人是如何使用这些框架</li>
<li>自己在学校的一些大作业、实践课或者是参加比赛中去做自己的项目，用心去维护</li>
<li>了解框架的原理，面试可以和面试官聊的起来，让面试官知道你不仅会用，还很关心这些东西的底层</li>
</ul>
<p>上面的四个步骤总结起来就是，先会用，再深入了解原理。框架重要的原因认为有如下几点：</p>
<ul>
<li>吃饭的家伙，公司招人是为了干活，不会框架拿什么干活？</li>
<li>了解原理，可以帮助自己更好的解决开发中的问题，其次也可以让面试官知道你是一个热爱技术和探索的学生。毕竟在工作几年的面试官眼里，我们大部分毕业的本科生还是很菜的，这时候你要做的就是比其他的候选人更加积极，更加努力，更加认真。</li>
</ul>
<h2 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h2><p>前端框架，react也很重要，但是自己目前的工作是vue，对vue更熟悉，因此先把框架重心放在vue上，后面有时间再去啃react。</p>
<p><strong>常见面试题：</strong></p>
<p><a target="_blank" rel="noopener" href="http://blog.wutortoise.cn/2021/07/20/vue%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93">vue面试题总结</a> </p>
<ul>
<li>MVVM</li>
<li>vue的数据双向绑定（对象和数据）</li>
<li>观察者模式和发布订阅模式</li>
<li>vue是如何检测数组变化</li>
<li>vue的单项数据流</li>
<li>computed和watch</li>
<li>虚拟DOM</li>
<li>v-for中的key的作用</li>
<li>nextTick的使用</li>
<li>vue的生命周期</li>
<li>@hook监听子组件的生命周期</li>
<li>Vue 的父组件和子组件生命周期钩子函数执行顺序？</li>
<li>keep-alive的使用</li>
<li>vue的内部指令</li>
<li>class和style的绑定方法</li>
<li>data为什么是一个函数</li>
<li>Vue之间的通信方式</li>
<li>Vuex</li>
<li>vue的路由</li>
<li>SPA单页面</li>
<li>SSR</li>
</ul>
<p><strong>原理部分：</strong></p>
<ul>
<li>变化侦测：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6993373656051089421">秋招保驾护航——vue篇之数据双向绑定</a></li>
<li>虚拟DOM：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903895467032589#heading-15">深入剖析：Vue核心之虚拟DOM</a> </li>
<li>模板编译原理：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904110391558151">《Vue不看源码懂原理》系列——Vue模板编译</a></li>
<li>整体流程：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7000198231623729166/">秋招保驾护航——vue篇</a></li>
</ul>
<h2 id="MyFace项目"><a href="#MyFace项目" class="headerlink" title="MyFace项目"></a>MyFace项目</h2><p>自己参加比赛的项目，面试前要系统的整理一下问题，就好像答辩前要提前准备好一些问题对付评委们的问题。</p>
<ul>
<li>项目架构搭建</li>
<li>项目开发管理</li>
<li>开发难点</li>
<li>项目优化</li>
<li>获取成就</li>
</ul>
<h1 id="3-实习"><a href="#3-实习" class="headerlink" title="3. 实习"></a>3. 实习</h1><ul>
<li>做了什么？</li>
<li>学到了什么？</li>
</ul>
<p>这里因人而异，我自己的每段实习都会去认真对待，完成交给我的每一个任务，当自己觉得压力比较小的时候再去主动申请去负责一些新的内容。<strong>开发的过程中不断的调研和总结，实习过程中遇到的问题和你觉得有意思的东西都可以记录下来</strong>，指不定哪一场面试中你的问题或者感悟直戳面试官的内心，面试官便会知道你的实习不是过去混混日子，而是实打实的做了一些事情。</p>
<h1 id="4-加分项目攻坚"><a href="#4-加分项目攻坚" class="headerlink" title="4. 加分项目攻坚"></a>4. 加分项目攻坚</h1><p>这里因人而异吧，因为我学习的时间较短，我认为优先级较低但是也是很重要的技能的东西放在了后面，在面试的过程中如果被问到了，我也会<strong>坦诚</strong>的说自己因为时间的原因没有深入的去了解。这里切记不会的东西还夸夸其谈，听到面试官耳里就是胡编乱造，面试官是为了发掘你的亮点，而不是为了考到你。</p>
<p>如果你说我什么都不会，那面试下来你就去把这些问到的问题做一个学习，指不定下次面试还会问到呢？对于我而言，我最开始什么都不会，就是通过面试意识到了自己哪里有所欠缺，然后不断的学习总结，形成自己的知识体系。</p>
<h2 id="性能优化相关"><a href="#性能优化相关" class="headerlink" title="性能优化相关"></a>性能优化相关</h2><p>自己也没来得及总结，但是对一些常见的优化，自己也在第一次面试被考到后下去去学习，第二次再遇到同样的问题也不会答不上来。</p>
<h2 id="node"><a href="#node" class="headerlink" title="node"></a>node</h2><p>node 是webpack包管理和前端接触服务器端、数据库等操作的入口，有利于自己对其他核心知识底层原理的探究。如webpack的一些原理、vue服务端渲染。</p>
<ul>
<li>学好基础课</li>
<li>了解后端开发和服务器</li>
<li>探究其他核心的原理</li>
</ul>
<h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><p>前端模块化、工程化必须要掌握的，学会从0开始使用webpack搭建项目</p>
<ul>
<li>核心知识</li>
<li>webpack实战</li>
<li>配置优化</li>
<li>深入vue脚手架</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/20/%E5%AD%A6%E4%B9%A0%E5%89%8D%E7%AB%AF%E4%B9%9D%E4%B8%AA%E6%9C%88%EF%BC%8C%E6%8B%BF%E4%B8%8B%E7%BE%8E%E5%9B%A2%E3%80%81%E7%99%BE%E5%BA%A6%E3%80%81%E5%AD%97%E8%8A%82%E7%AD%89%E5%A4%A7%E5%8E%82offer%EF%BC%8C%E6%88%91%E7%9A%84%E7%A7%8B%E6%8B%9B%E6%98%AF%E5%A6%82%E4%BD%95%E5%87%86%E5%A4%87%E7%9A%84%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/20/%E5%AD%A6%E4%B9%A0%E5%89%8D%E7%AB%AF%E4%B9%9D%E4%B8%AA%E6%9C%88%EF%BC%8C%E6%8B%BF%E4%B8%8B%E7%BE%8E%E5%9B%A2%E3%80%81%E7%99%BE%E5%BA%A6%E3%80%81%E5%AD%97%E8%8A%82%E7%AD%89%E5%A4%A7%E5%8E%82offer%EF%BC%8C%E6%88%91%E7%9A%84%E7%A7%8B%E6%8B%9B%E6%98%AF%E5%A6%82%E4%BD%95%E5%87%86%E5%A4%87%E7%9A%84%EF%BC%9F/" class="post-title-link" itemprop="url">学习前端九个月，拿下美团、百度、字节等大厂offer，我干了些啥？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-10-20 10:45:09" itemprop="dateCreated datePublished" datetime="2021-10-20T10:45:09+08:00">2021-10-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:21:42" itemprop="dateModified" datetime="2023-05-07T17:21:42+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93%E6%84%9F%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">个人总结感想</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>个人情况：</strong> 某211菜鸡，大二转专业到计算机，大三下学期末也就是2020年12月份接触前端。大三寒假今年1月份开始正式学习前端。</p>
<p><strong>秋招情况：</strong></p>
<ul>
<li>腾讯秋招提前批一面挂了，后面一直不捞；</li>
<li>阿里一面过，二面没面（面试官说简历不行挂了）；</li>
<li>拼多多三面挂；</li>
<li>快手三面挂；</li>
<li>美团两轮技术面，已意向书；</li>
<li>百度三轮技术面走完，已意向书；</li>
<li>shopee面试结束，等意向书；</li>
<li>字节三轮技术面过，已意向书；</li>
</ul>
<p>最近陆陆续续各大厂开奖，自己总算暂告快一年的快节奏生活。在此回顾一下自己的学习心路历程，算是给自己交的一份答卷，也希望能帮到需要的同学。</p>
<h2 id="结识前端"><a href="#结识前端" class="headerlink" title="结识前端"></a>结识前端</h2><p>大一就读<strong>地理科学</strong>专业，因为是调剂的专业，而且自己对地理很不感冒，因此下定决心转专业，最后误打误撞来到了计算机。大二是自己最痛苦的一年，从0开始上着大二的专业课，同时补修着大一缺的专业课，很长一段时间<strong>怀疑自己为什么要转专业</strong>。期间想过做出一些改变，参加了学校的acm（坚持了一个星期），学习数学建模（学了一学期放弃了），加入了一个老师的学习小组（被分到了数据库小组，最后组员都保研或者考研了解散了），但在铺天盖地的课程面前，最终都<strong>没有坚持下来</strong>（课程多是借口，主要还是懒&#x3D;c&#x3D;）。</p>
<p>在大三的上学期，深感自己在大学什么都没学到，因此我主动找上了班主任，希望这个学期可以跟着老师后面学习。我的首要目标便是做项目参加比赛，借此机会我同原专业一起转过来的两个室友（三个室友都保研了，只有我这个菜鸡去打工了）组建了一个小队伍开始了比赛之旅。题目最终定为：<strong>隐私安全的人脸识别系统</strong>。</p>
<p>为了完成课题，整个项目拆分为两个部分：首先是人脸识别部分，其次是加密部分。为了学习人脸识别，我第一次开始阅读文档，接触github。因为不熟悉编程语言，为了跑起来一个人脸识别的项目，需要彻夜折腾配置环境。虽然当时每一步进行的都很艰难，但当深夜看到他人的代码在自己的电脑上运行起来，正确的识别人脸的时候，内心是十分激动得，好像自己真的可以去学点什么，去做点什么。回想起来，从那时开始慢慢熟练玩起了github</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f057415fd5c24cfea88ffcb820c08df0~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>也就在这时，软件工程基础实践课上认识了一群有意思的人，和他们一起组队的过程中我学习了前端三件套html、css、js，阅读了vue文档，勉勉强强写出了一个算是网页的东西，这也标志着我的前端路线正式开始。</p>
<h2 id="迈出第一步"><a href="#迈出第一步" class="headerlink" title="迈出第一步"></a>迈出第一步</h2><p>学期末我在朋友的鼓动下带着自己三脚猫的功夫去投一些简历，<strong>不奢望能通过但是要知道自己差在哪，需要在哪里努力</strong>，很可惜投了很多的公司，最终连简历都没过。一家公司的前端总工程师给我发的话我至今记忆犹新。图在下面，有多打击自行体会。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/875c65a151994766a486acf6d05bfe29~tplv-k3u1fbpfcp-zoom-1.image" alt="在这里插入图片描述"></p>
<p>如果说大三开始的自己是什么都不会、什么都不知道，经历了<strong>一学期的折腾和这次简历投递事件的打击</strong>，到了寒假的我知道自己有很多东西需要去学习。我十分后悔自己在转专业来的一年里拘泥于自己认为的大学生活中：平时的学习只是当成一门任务，最主要考考试周去突击复习知识点，考试能考个八九十就不算虚度大学生活了。这种学习方式让我什么都学不到，该有的基本素养自己也没有去有意识的培养，我<strong>下定决心这个寒假一定要好好利用这个50天的寒假</strong>。</p>
<p>自己本身什么都不会，想到自己上个学期通过做项目学习了一些前端，便认真学好手上这点零碎的知识。前端上，html、css自己上freecodecamp上又重温一遍，js开始啃红宝书，并看了一些视频；vue则是向老爸申请了一些学习投资在慕课网上买了一些课程进行学习。</p>
<p>一切都在有条不稳的进行着，白天学习前端，下午为比赛项目做准备，晚上做一些前端的实战项目。寒假的第一个小转折是字节跳动的训练营的笔试，<strong>五道编程题我只有两题的通过率过了50%<strong>，毫无疑问我被刷了，看着身边的朋友都通过了笔试，我十分沮丧。祸不单行，人生中的第一次参加的面试被告知</strong>还需要继续学习</strong>。训练营笔试的失败和第一次面试的失败让我觉得自己大三上学期的学习和半个寒假的努力都白费了。</p>
<p>这里十分感谢自己的一个学长，在他备战考研前，他是我们开源协会的会长，考研期间我一直没去打扰他，当初我便是在他的引领下认识的前端。再次经历了失败，我又去找到了他，<strong>告诉了他自己对找工作这条路的不自信</strong>。在后面的交谈中我被学长“认真做好每一件事情”的态度感染，哪里倒下就从哪里爬起来。我认识到自己应该感谢自己一路上遇到的所有打击，正是它们我才认识到了自己的不足。我开始开始认识到了自己不应该局限于前端这一单一的模块，身为一个科班生我应该更<strong>注重自己的计算机素养，数据结构、计算机组成、操作系统、计算机网络</strong>都是我要去学习的东西，在寒假剩下的一半时间里继续保持自己之前的计划基础上，再先着手去复习一些数据结构和算法。</p>
<h2 id="小小的成功亦是学习的开始"><a href="#小小的成功亦是学习的开始" class="headerlink" title="小小的成功亦是学习的开始"></a>小小的成功亦是学习的开始</h2><p>就这样，在一次又一次的打击下，我不断的调整自己的学习计划。剩下的寒假里在leetcode上刷了四十多题，前端js和vue的学习也在继续，项目上主要的算法工作我也使用js和python完成了，这时候的我能明显感觉自己对一门编程语言的理解和原来有所不同，我对帮助我的学长说我好像变得比原来更强了。新运女神也关顾了我，字节又开始了新一轮的训练营，与此同时之前投简历的人人公司也来邀请我去面试。我带上自己一个寒假的准备去面对他们，好消息也一个一个的到来。</p>
<p>2月22日，我接受到了字节跳动训练营的邀请，虽然这次笔试题目我只做出来了一半，但是还是侥幸通过了笔试的筛选</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/71c6137d25824568845780190635a202~tplv-k3u1fbpfcp-zoom-1.image" alt="在这里插入图片描述"></p>
<p>2月25日，我收到了人人公司HR的邀请</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/def5db7dd9ee43da85d3380da0f1fd93~tplv-k3u1fbpfcp-zoom-1.image" alt="在这里插入图片描述"></p>
<p>虽然过了这个训练营的笔试算不上什么，面试的难度也远不及那些大厂，但是对于学习三个月的路程上没有任何成功的我来说是一次巨大的鼓舞。但我也深知我还差的还很多，还有很多需要去学习。因为身边的同学都在准备考研，在本科生身份的压力下，我给自己定下了新的目标：<strong>继续精进自己的前端技术，秋招拿到大厂offer</strong>。于是从三月份开始，每天日程如下：</p>
<ul>
<li>七点钟起床</li>
<li>七点二十后骑二十分钟去公交站</li>
<li>在公交站等待的时间和公交车上的一小时通勤时间开始一天的学习，读文档、看视频</li>
<li>八点半到下午六点，在完成公司的任务中学习查缺补漏</li>
<li>晚上八点前两小时回寝通勤 + 晚饭</li>
<li>晚八到十二点回到宿舍继续比赛项目和自己的项目</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/22bccdf393d343d5936dd25937cfdd68~tplv-k3u1fbpfcp-zoom-1.image" alt="在这里插入图片描述"></p>
<p>三月份也是春招的季节，除了公司的实习和比赛项目的推进，我投递了很多简历，不指望能过，但是希望在这个过程中为秋招积攒经验，同时也给自己一个学习的压力，能够完成每天高强度的学习。</p>
<p>前前后后我面试了<strong>腾讯、阿里、百度、字节、美团等公司</strong>。</p>
<p>在腾讯和阿里的前两次面试中，<strong>一问三不知，都终止于一面</strong>。自己的前端知识不成体系，基础知识不牢固，这两次面试也打醒了我，重新想起了自己科班生的身份。当时阅读了月影大佬16年的博客，这篇五年前的博客却点醒了我，文章中提到的想法和我前两次面试得出来的结论一样。<strong>科班生要求有扎实的计算机基础和对技术的热爱</strong>。大二转专业以来自己可能并不是真的喜欢计算机，但是从接触了前端以后才体会到了计算机的魅力，不同于C语言的黑洞洞的窗口，前端五彩斑斓的世界激发了我的创造欲。我在追求创造的过程中，学习了html，css，js，vue等，但却也在身边追求工作的狂热中慢慢失去了热爱的初心，单纯的追求技术去学习，貌似失去了最初对问题刨根问底的精神。做了很多项目，解决了问题就不再深究，似乎没有最初的干劲和解决bug的成就感。在此警醒自己一次，无论如何不要在浮华喧噪的世界中失去了本心。</p>
<p>前端是一个庞大的体系，我花了两个星期的时间，<strong>辅助其他博客将自己目前掌握的前端知识总结成一个属于自己的体系，之后便可以宏观的看到自己知识体系中缺陷的部分，后面的过程便是搭积木，不断的在自己搭建的体系上不断学习、完善</strong>。</p>
<p>高强度的学习持续了一个月，期间没有休息一天，可能给自己的压力太大，始终无法放下心来去休息。期间百度二面挂了，心态爆炸，失眠。向自己的偶像（三元大佬）传递了我的负面情绪，<strong>当时意识到一直高强度的学习不是一个很好的选择</strong>，因此给自己一天的休息的时间和朋友去吃了顿大餐，在电影院看了阿凡达，赞叹多年前的电源现在看来依旧震撼的同时，<strong>也清楚的认识到自己还是个学生，有无线的可能</strong>。<strong>既然决定了自己的目标就要不顾一切的坚持下去，过程中的得失才是自己所追求的，对结果的患得患失、畏手畏脚会成为自己前进的绊脚石。也在这个过程中感受到了偶像的力量，在他的鼓励之下继续坚持，也坚定了自己在前端路线上追赶他的决心</strong>。</p>
<p>后面的一个月中，先后面了腾讯、美团、字节跳动，很可惜自己学习的时间太短，没能拿到自己最想去的字节跳动的offer（因为偶像在那），但是还是侥幸通过了腾讯云智（武汉）和美团的面试。腾讯接到hr的通知时，自己都是不敢相信的，除了一些激动外更多的还是希望自己不忘初心，不带任何包袱的继续学习下去。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b6250a1ad8546fea645c03c284293ab~tplv-k3u1fbpfcp-zoom-1.image" alt="在这里插入图片描述"></p>
<p>美团的通过也是意料之外，具体不说了（手动笑哭）。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3fd3ee503ba945cfb64b301e50dfe525~tplv-k3u1fbpfcp-zoom-1.image" alt="在这里插入图片描述"></p>
<h2 id="暑期实习"><a href="#暑期实习" class="headerlink" title="暑期实习"></a>暑期实习</h2><p>从5月14日来到腾讯电子签的团队，到九月份，实习了快四个月。在这个过程中学到了很多，想从个人的成长上来谈谈自己整个学习的过程。</p>
<p><strong>技术栈上的拓展。</strong>  5月份申请提前实习的想法就是希望能学习到更多的东西，学习到我在学校里学习不到的东西。事实上在腾讯这个大环境里，只要你肯学会有学习不完的东西。技术栈上接触了uniapp、小程序、云函数、react这些没有接触过的知识，学习了很多vue高级的语法，让我看到了前端世界的丰富多彩，也让我意识到了前端的慢慢长路才刚刚开始。我现在所需要的就是打好自身的基础，在工作中不断的积累经验，坚持学习的习惯，让自己在未来新技术潮流的的冲击下顶住压力前行。</p>
<p><strong>专业的事情交给专业的人去做。</strong>  技术上的成长不仅意味着技术栈的拓展，来到电子签团队后，见证了大公司软件产品的生产流程，我的技术视野拓宽了。对一个产品的感知不再是自己在学校里和几个同学折腾的小项目，企业级项目的开发不是几个人就可以完成的。它是一个复杂精密的过程，每一环都至关重要，且需要有专业的人去完成。最开始的需求分析，需要产品经理通过数据分析、客户反馈等各种渠道来制定合适的需求，产品经理就是腾讯电子签的万千使用者和幕后开发者沟通的桥梁；正式进入研发流程后也会经历视觉交互、重构、前后端开发、测试、上线、后期维护等过程，整个项目的开发大家需要互相配合，发挥各自所长，才能将一款产品做好；产品做好不代表就成功了，还需要靠专业的人士去推广，收集意见，接受反馈后再去迭代、优化。</p>
<p><strong>我们是一个team。</strong>  我们看到了想要完成一个庞大的项目，需要一支充满干劲的team。很明显，我们的电子签就是这样一个扛得住压力、战斗力极强的team。在学校里的比赛我也担任过几只队伍的队长，深感很难调动起来大家，所以一直认为自己不是这块料。在和组长聊天的过程中，team的功劳不是因为他，而是因为我们，正因为大家都是是一样可爱的人，拥有同样的目标，才能团结在一起具有强大的战斗力。组长对我说，所有能力都不是与生俱来，需要不断的去尝试锻炼才能拥有。我想在后面的人生中，不要害怕去尝试，也不要因为一次两次没做好就放弃。</p>
<p><strong>天高任鸟飞，海阔任鱼游。</strong>  在这里还有我个人的成长，和大家相处以后学到了很多为人的道理。感悟挺多的，因此在最后也送给自己几句话。要一直保持着一颗谦虚的心的学习，自己认定的目标就不要轻言放弃，哪怕失败了也要继续坚持下去。</p>
<h2 id="秋招准备"><a href="#秋招准备" class="headerlink" title="秋招准备"></a>秋招准备</h2><blockquote>
<p>可以看我的<a target="_blank" rel="noopener" href="https://github.com/wk-Nemo/fall-study-frontend">github</a>有我所有的准备</p>
</blockquote>
<p><strong>九月份之前准备面试，主要是针对自己的简历进行复习：</strong></p>
<ul>
<li><p>基础部分：需要牢固掌握的</p>
<ul>
<li>html、css、js</li>
<li>浏览器相关</li>
<li>计算机网络</li>
<li>操作系统</li>
<li>数据库</li>
<li>数据结构以及常见算法题目</li>
</ul>
</li>
<li><p>框架&amp;项目：经常使用，但是没有系统总结过的内容</p>
<ul>
<li>vue相关的基础知识、原理以及项目</li>
<li>react相关的基础知识、原理以及项目</li>
<li>uniapp开发微信小程序</li>
</ul>
</li>
<li><p>实习</p>
<ul>
<li>做了什么？</li>
<li>学到了什么？</li>
</ul>
</li>
<li><p>加分项：之前接触过，但没有经常使用以及深入了解，后期有时间去了解一下</p>
<ul>
<li>node.js，express框架，koa框架，egg.js框架</li>
<li>webpack的的核心概念以及性能优化</li>
<li>项目优化部分</li>
</ul>
</li>
</ul>
<p><strong>九月份以后开始陆续投递简历：</strong></p>
<ul>
<li>边学边投简历，多看面经查缺补漏</li>
<li>坚持刷题</li>
<li>找可靠的人，确定有hc的人进行内推</li>
<li>积极准备面试</li>
</ul>
<h2 id="面试"><a href="#面试" class="headerlink" title="面试"></a>面试</h2><p><strong>最主要的是形成自己的知识体系</strong>，其次面试是一个双向输出的过程，<strong>需要自己不断地给面试官暗示，让面试官发掘自身的亮点。</strong></p>
<h2 id="美团"><a href="#美团" class="headerlink" title="美团"></a>美团</h2><p><strong>美团一面：</strong> 1h</p>
<ol>
<li><p>自我介绍</p>
</li>
<li><p>聊到原生三件套到框架</p>
</li>
<li><p>前端工程化的理解</p>
</li>
<li><p>模块化的理解</p>
</li>
<li><p>原生操作dom的缺点，vue的虚拟dom，diff算法，patch比较</p>
</li>
<li><p>vue列表渲染key的作用</p>
</li>
<li><p>data为什么是return</p>
</li>
<li><p>http请求过程</p>
</li>
<li><p>http缓存</p>
</li>
<li><p>js的基础类型有哪些</p>
</li>
<li><p>基础类型和引用类型的区别</p>
</li>
<li><p>es6新特性用过哪些</p>
</li>
<li><p>块级作用域的理解 </p>
</li>
<li><p>let和const的区别</p>
</li>
<li><p>事件循环机制</p>
</li>
<li><p>一个看作用域说输出的题目</p>
</li>
<li><p>找到第一个只出现一次的字符</p>
</li>
</ol>
<p><strong>美团二面：</strong> 1h</p>
<p>面试前还挺紧张，因为是秋招面的第一家大厂，但是正式开始面的时候很舒服，面试官很nice。先是聊到了实习期间比较有意思的事情，整个开发的流程规范；然后聊到大学学习的经历，学习前端的契机；然后聊了一下基础知识，写了一道编程题（本来以为会很难，但是几分钟就搞定了）；最后反问环节和面试官聊了很多在公司开发遇到的问题和工作内容。面试官对我的感觉还不错，不出意外应该可以过。</p>
<p><strong>美团hr面：</strong> 10min</p>
<ol>
<li>自我介绍</li>
<li>大学成绩如何</li>
<li>实习干了什么</li>
<li>技术规划</li>
</ol>
<h2 id="拼多多"><a href="#拼多多" class="headerlink" title="拼多多"></a>拼多多</h2><p>面试官要求不能透露聊天内容</p>
<h2 id="百度"><a href="#百度" class="headerlink" title="百度"></a>百度</h2><p><strong>百度一面：</strong> 45min</p>
<ol>
<li>自我介绍</li>
<li>两段实习经历问了很多</li>
<li>this指向问题，问了很多</li>
<li>http状态码</li>
<li>浏览器缓存</li>
<li>编程题，忘了挺简单的</li>
</ol>
<p><strong>百度二面：</strong> 45min</p>
<ol>
<li>自我介绍</li>
<li>腾讯实习里面问了很多</li>
<li>vue数据双向绑定原理讲述</li>
<li>vue实现一个todolist</li>
<li>两道编程</li>
</ol>
<p><strong>百度三面：</strong> 30min</p>
<ol>
<li>自我介绍</li>
<li>两段实习学到了什么</li>
<li>前端发展现在的趋势</li>
<li>以后发展的规划路线</li>
<li>意向城市、工作内容</li>
<li>offer情况</li>
<li>反问</li>
</ol>
<h2 id="虾皮"><a href="#虾皮" class="headerlink" title="虾皮"></a>虾皮</h2><p><strong>虾皮一面：</strong> 1h</p>
<ol>
<li>自我介绍</li>
<li>vue双向绑定</li>
<li>v-model</li>
<li>事件冒泡</li>
<li>事件委托</li>
<li>事件循环机制</li>
<li>事件循环机制说输出的题目</li>
<li>http缓存</li>
<li>defer和async</li>
<li>快速排序</li>
<li>插入排序</li>
<li>两个排序的对比</li>
<li>进程和线程的区别</li>
<li>做过哪些性能上的优化</li>
<li>css垂直居中</li>
<li>flex布局相关问题</li>
<li>xss攻击、csrf攻击</li>
<li>算法题：大数相加</li>
</ol>
<p><strong>虾皮二面：</strong> 1h</p>
<p>忘了记录</p>
<h2 id="字节跳动"><a href="#字节跳动" class="headerlink" title="字节跳动"></a>字节跳动</h2><p><strong>字节一面：</strong> 1h</p>
<p>五道编程题目：</p>
<ol>
<li>归并排序</li>
<li>判断基础类型</li>
<li>深拷贝</li>
<li>（忘了）</li>
<li>闭包的应用</li>
</ol>
<p><strong>字节二面：</strong> 1h</p>
<ol>
<li>解析url</li>
<li>建立上的项目问了很多</li>
<li>实习期间问了很多</li>
<li>OSI七层模型</li>
<li>聊了一下vue</li>
<li>编程题</li>
</ol>
<p><strong>字节三面：</strong> 1h</p>
<ol>
<li>两道编程题，第一道写出来有点小问题，第二题在提示下写出来了</li>
</ol>
<p>（1）数学题？</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/661caf78b96e426281587e80ecfe36b2~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>（2）写一个程序计算出Π（3.1415926）的值</p>
<ol start="2">
<li>实习期间的问题，讨论到了长列表的优化，还有一些工程化的东西没有答上来</li>
<li>平时怎么学习的</li>
<li>技术栈？追问了一下平时vue都使用了什么特性？computed和watcher有什么区别</li>
<li>微信小程序的开发和普通的web开发有什么区别？</li>
<li>能提前实习吗？</li>
<li>反问。给了我一些建议，在腾讯实习的时候没有注意一些整体上的流程如CI&#x2F;CD，项目如何发版类的关注点。</li>
</ol>
<h2 id="快手"><a href="#快手" class="headerlink" title="快手"></a>快手</h2><p><strong>快手一面：</strong> 1h</p>
<ol>
<li>自我介绍</li>
<li>项目问了点东西</li>
<li>实习问了点</li>
<li>vue的双向绑定</li>
<li>vue的渲染流程</li>
<li>虚拟dom</li>
<li>js函数传递参数</li>
<li>数组的一些api使用</li>
<li>setTimeout使用</li>
<li>promise A+规范</li>
<li>发布订阅</li>
</ol>
<p><strong>快手二面：</strong> 1h</p>
<ol>
<li>自我介绍</li>
<li>css隐藏的方式，他们的区别</li>
<li>http缓存</li>
<li>本地缓存</li>
<li>项目相关</li>
<li>实习相关</li>
<li>算法题（没a出来，讲了思路）</li>
<li>前端架构上的一些看法</li>
<li>反问，面试官聊了架构上的看法，受益匪浅。</li>
</ol>
<p><strong>快手三面：</strong> 1h</p>
<p>忘了，没记录</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>加油！谨以此文，纪念自己丰富多彩的一年大学生活！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/04/React%20With%20TypeScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/04/React%20With%20TypeScript/" class="post-title-link" itemprop="url">React With TypeScript</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-10-04 13:41:31" itemprop="dateCreated datePublished" datetime="2021-10-04T13:41:31+08:00">2021-10-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:48:38" itemprop="dateModified" datetime="2023-05-07T17:48:38+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/React/" itemprop="url" rel="index"><span itemprop="name">React</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="npx安装react-ts环境"><a href="#npx安装react-ts环境" class="headerlink" title="npx安装react + ts环境"></a>npx安装react + ts环境</h2><p>使用<code>npx create-react-app ts-with-react --template typescript</code>命令配置环境</p>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IHelloProps</span> &#123;</span><br><span class="line">  <span class="attr">message</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Hello</span>: <span class="title class_">React</span>.<span class="property">FC</span>&lt;<span class="title class_">IHelloProps</span>&gt; = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;props.message&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Hello</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">  <span class="attr">message</span>: <span class="string">&quot;Hello World&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Hello</span></span><br></pre></td></tr></table></figure>



<h2 id="React-Hooks"><a href="#React-Hooks" class="headerlink" title="React Hooks"></a>React Hooks</h2><p>在react中原来有两种写法，一种是class，另一种是function。而hooks的特性，意在代替class的写法。</p>
<ul>
<li>完全可选</li>
<li>百分百向后兼容</li>
<li>没有计划移除class</li>
</ul>
<p>解决的问题：</p>
<ul>
<li>组件很难复用状态逻辑</li>
<li>复杂组件难以理解，尤其是生命周期函数</li>
<li>Hooks使react完全拥抱函数</li>
</ul>
<p>规则：</p>
<ul>
<li>只在顶层调用Hook</li>
<li>只在react函数中调用Hook</li>
</ul>
<h2 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">LikeButton</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [like, setLike] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [on, setOn] = <span class="title function_">useState</span>(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;setLike(like + 1)&#125;&#125;&gt;</span></span><br><span class="line"><span class="language-xml">        &#123;like&#125; 👍</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;setOn(!on)&#125;&#125;&gt;</span></span><br><span class="line"><span class="language-xml">        &#123;on ? &#x27;NO&#x27; : &#x27;OFF&#x27;&#125; </span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">LikeButton</span></span><br></pre></td></tr></table></figure>



<h2 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MouseTracker</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [position, setPosition] = <span class="title function_">useState</span>(&#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span>&#125;)</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">updateMouse</span> = (<span class="params">e: MouseEvent</span>) =&gt; &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;inner&#x27;</span>)</span><br><span class="line">      <span class="title function_">setPosition</span>(&#123;<span class="attr">x</span>: e.<span class="property">clientX</span>, <span class="attr">y</span>: e.<span class="property">clientY</span>&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, updateMouse)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, updateMouse)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>X: &#123;position.x&#125;, Y: &#123;position.y&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">MouseTracker</span></span><br></pre></td></tr></table></figure>



<h2 id="自定义Hook"><a href="#自定义Hook" class="headerlink" title="自定义Hook"></a>自定义Hook</h2><p>将组件逻辑提取到可重用的函数种</p>
<p><strong>定义：</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">useURLLoader</span> = (<span class="params">url: <span class="built_in">string</span>, deps: <span class="built_in">number</span>[] = []</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> [data, setData] = useState&lt;<span class="built_in">any</span>&gt;(<span class="literal">null</span>)</span><br><span class="line">  <span class="keyword">const</span> [loading, setLoading] = <span class="title function_">useState</span>(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">setLoading</span>(<span class="literal">true</span>)</span><br><span class="line">    axios.<span class="title function_">get</span>(url).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">setData</span>(result.<span class="property">data</span>)</span><br><span class="line">      <span class="title function_">setLoading</span>(<span class="literal">false</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;, deps)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [data, loading]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useURLLoader</span><br></pre></td></tr></table></figure>

<p><strong>调用：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function App() &#123;</span><br><span class="line">  const [num, setNum] = useState(0)</span><br><span class="line">  const [data, loading] = useURLLoader(&#x27;https://dog.ceo/api/breeds/image/random&#x27;, [num])</span><br><span class="line">  const dogResult =  data as IShowResult</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div className=&quot;App&quot;&gt;</span><br><span class="line">      &lt;header className=&quot;App-header&quot;&gt;</span><br><span class="line">        &lt;button onClick=&#123;() =&gt; &#123;setNum(num + 1)&#125;&#125;&gt;refresh dog&lt;/button&gt;</span><br><span class="line">        &#123; loading ? &lt;p&gt;读取中&lt;/p&gt;</span><br><span class="line">          : &lt;img src=&#123;dogResult &amp;&amp; dogResult.message&#125; /&gt;</span><br><span class="line">        &#125;</span><br><span class="line">      &lt;/header&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useState, useEffect, useRef &#125; from &#x27;react&#x27;</span><br><span class="line"></span><br><span class="line">const LikeButton: React.FC = () =&gt; &#123;</span><br><span class="line">  const [like, setLike] = useState(0)</span><br><span class="line">  const [on, setOn] = useState(true)</span><br><span class="line">  const likeRef = useRef(1)</span><br><span class="line"></span><br><span class="line">  useEffect(() =&gt; &#123;</span><br><span class="line">    document.title = `点击了$&#123;like&#125;次`</span><br><span class="line">  &#125;, [like])</span><br><span class="line"></span><br><span class="line">  function handleAlertClick() &#123;</span><br><span class="line">    console.log(likeRef)</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      alert(`click like: $&#123;like&#125; times, refLike: $&#123;likeRef.current&#125;`)</span><br><span class="line">    &#125;, 2000)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;button onClick=&#123;handleAlertClick&#125;&gt;like test&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;() =&gt; &#123;setLike(like + 1); likeRef.current++&#125;&#125;&gt;</span><br><span class="line">        &#123;like&#125; 👍</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;() =&gt; &#123;setOn(!on)&#125;&#125;&gt;</span><br><span class="line">        &#123;on ? &#x27;NO&#x27; : &#x27;OFF&#x27;&#125; </span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default LikeButton</span><br></pre></td></tr></table></figure>



<h2 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h2><p>类似于vuex的作用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useState &#125; from &#x27;react&#x27;</span><br><span class="line">import LikeButton from &#x27;./components/LikeButton&#x27;</span><br><span class="line">import &#x27;./App.css&#x27;;</span><br><span class="line"></span><br><span class="line">interface IThemeProps &#123;</span><br><span class="line">  [key: string]: &#123;color: string; background: string;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const themes: IThemeProps = &#123;</span><br><span class="line">  &#x27;light&#x27;: &#123;</span><br><span class="line">    color: &#x27;#000&#x27;,</span><br><span class="line">    background: &#x27;#eee&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x27;dark&#x27;: &#123;</span><br><span class="line">    color: &#x27;#fff&#x27;,</span><br><span class="line">    background: &#x27;#222&#x27;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export const ThemeContext = React.createContext(themes.light)</span><br><span class="line"></span><br><span class="line">function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className=&quot;App&quot;&gt;</span><br><span class="line">      &lt;ThemeContext.Provider value=&#123;themes.dark&#125;&gt;</span><br><span class="line">          &lt;LikeButton&gt;&lt;/LikeButton&gt;</span><br><span class="line">      &lt;/ThemeContext.Provider&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useState, useEffect, useRef, useContext &#125; from &#x27;react&#x27;</span><br><span class="line">import &#123; ThemeContext &#125; from &#x27;../App&#x27;</span><br><span class="line"></span><br><span class="line">const LikeButton: React.FC = () =&gt; &#123;</span><br><span class="line">  const theme = useContext(ThemeContext)</span><br><span class="line">  const style = &#123;</span><br><span class="line">    background: theme.background,</span><br><span class="line">    color:theme.color</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;button style=&#123;style&#125;&gt;</span><br><span class="line">        &#123;like&#125; 👍</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default LikeButton</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/04/TypeScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/04/TypeScript/" class="post-title-link" itemprop="url">TypeScript</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-10-04 13:40:38" itemprop="dateCreated datePublished" datetime="2021-10-04T13:40:38+08:00">2021-10-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:48:59" itemprop="dateModified" datetime="2023-05-07T17:48:59+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/TypeScript/" itemprop="url" rel="index"><span itemprop="name">TypeScript</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="什么是TypeScript"><a href="#什么是TypeScript" class="headerlink" title="什么是TypeScript"></a>什么是TypeScript</h2><ul>
<li>JavaScript的超集</li>
<li>静态类型风格的类型系统</li>
<li>从es6到es10甚至事esnext的语法支持</li>
<li>兼容各种浏览器，各种系统，各种服务器，完全开源</li>
</ul>
<h2 id="为什么使用TypeScript"><a href="#为什么使用TypeScript" class="headerlink" title="为什么使用TypeScript"></a>为什么使用TypeScript</h2><ul>
<li><p>程序更容易理解</p>
<ul>
<li>函数或方法输入输出参数类型，外部条件</li>
<li>动态语言的约束：需要手动调试等过程</li>
<li>TypeScript：代码本身就可以解决上述问题</li>
</ul>
</li>
<li><p>效率更高</p>
<ul>
<li>在不同代码块和定义之间进行跳转</li>
<li>代码自动补全</li>
<li>丰富的接口提示</li>
</ul>
</li>
<li><p>更少的错误</p>
<ul>
<li>编译期间发现大部分错误</li>
<li>杜绝一些常见的错误</li>
</ul>
</li>
<li><p>更好的包容性</p>
<ul>
<li>完全兼容JavaScript</li>
<li>第三方库可以单独编写类型文件</li>
<li>流行项目支持TypeScript-React、Vue、Angular、Ant Design等</li>
</ul>
</li>
<li><p>一些缺点</p>
<ul>
<li>增加了学习成本</li>
<li>短期内增加了开发成本</li>
<li>要根据需求和工程规模合理选择</li>
</ul>
</li>
</ul>
<h2 id="安装TypeScript"><a href="#安装TypeScript" class="headerlink" title="安装TypeScript"></a>安装TypeScript</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br><span class="line">npm install -g ts-node</span><br></pre></td></tr></table></figure>

<p><code>ts-node</code>可以合并typescript的编译和运行两个步骤</p>
<h2 id="定义类型"><a href="#定义类型" class="headerlink" title="定义类型"></a>定义类型</h2><h4 id="1-基本类型判断"><a href="#1-基本类型判断" class="headerlink" title="1. 基本类型判断"></a>1. 基本类型判断</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基础类型</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">isDone</span>: <span class="built_in">boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">firstName</span>: <span class="built_in">string</span> = <span class="string">&quot;wu&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">u</span>: <span class="literal">undefined</span> = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">n</span>: <span class="literal">null</span> = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// undefined 和 null 可以赋值给任何类型</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">num</span>: <span class="built_in">number</span> = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">str</span>: <span class="built_in">string</span> = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// any 表示任何类型</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">notSure</span>: <span class="built_in">any</span> = <span class="number">4</span></span><br><span class="line">notSure = <span class="string">&#x27;string&#x27;</span></span><br><span class="line">notSure = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 联合类型</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">numberOrString</span>: <span class="built_in">number</span> | <span class="built_in">string</span> = <span class="number">234</span></span><br><span class="line">numberOrString = <span class="string">&#x27;str&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// arr 和 tuple</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">arrOfNumber</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">arrOfNumber.<span class="title function_">push</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// tuple 元组对数组进行了一个更精准的限制</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">user</span>: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">&#x27;viking&#x27;</span>, <span class="number">20</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="2-interface-接口"><a href="#2-interface-接口" class="headerlink" title="2. interface 接口"></a>2. interface 接口</h4><ul>
<li>对对象的形状进行描述</li>
<li>对类（class）进行抽象</li>
<li>鸭子类型（Duck Typing）</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// readonly 只读不可修改</span></span><br><span class="line"><span class="comment">// ? 表示不一定必须有该属性</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  school?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">viking</span>: <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;viking&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">wk</span>: <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;wk&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">school</span>: <span class="string">&#x27;WHUT&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-函数"><a href="#3-函数" class="headerlink" title="3. 函数"></a>3. 函数</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span>, z?: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> z === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y + z</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">add2</span>: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span>, z?: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = add</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">result</span>: <span class="built_in">number</span> = <span class="title function_">add</span>(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line"></span><br><span class="line">result = <span class="title function_">add</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br></pre></td></tr></table></figure>



<h4 id="4-类型判断"><a href="#4-类型判断" class="headerlink" title="4. 类型判断"></a>4. 类型判断</h4><p>当我们没有显示的声明时，TypeScript会自动推测一个类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;str&#x27;</span></span><br><span class="line">str = <span class="number">123</span> <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>



<h4 id="5-类"><a href="#5-类" class="headerlink" title="5. 类"></a>5. 类</h4><ul>
<li>类（Class）：定义了一切事务的抽象特点</li>
<li>对象（Object）：类的实例</li>
<li>面向对象（OOP）三大特性：封装、继承、多态</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">run</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is running`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> snake = <span class="keyword">new</span> <span class="title class_">Animal</span>(<span class="string">&#x27;lily&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(snake.<span class="title function_">run</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span> &#123;</span><br><span class="line">  <span class="title function_">bark</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is barking`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mike = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;Mike&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mike.<span class="title function_">run</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mike.<span class="title function_">bark</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(name)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">run</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Meow, `</span> + <span class="variable language_">super</span>.<span class="title function_">run</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> cat = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&#x27;maomao&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(cat.<span class="title function_">run</span>())</span><br></pre></td></tr></table></figure>



<p>ts还添加了几种修饰符</p>
<ul>
<li>public：都可以访问</li>
<li>private：只有自己可访问</li>
<li>protected：自己和子类可以访问</li>
<li>readonly：只读</li>
<li>static：添加静态属性和静态方法</li>
</ul>
<h2 id="泛型（Generics）"><a href="#泛型（Generics）" class="headerlink" title="泛型（Generics）"></a>泛型（Generics）</h2><p>泛型主要是定义了不确定的类型，在使用的时候再确定。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> echo&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">  <span class="keyword">return</span> arg</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">echo</span>(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> swap&lt;T, U&gt;(<span class="attr">tuple</span>: [T, U]): [U, T] &#123;</span><br><span class="line">  <span class="keyword">return</span> [tuple[<span class="number">1</span>], tuple[<span class="number">0</span>]]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result2 = <span class="title function_">swap</span>([<span class="string">&#x27;str&#x27;</span>, <span class="number">123</span>])</span><br><span class="line">result2[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>



<h4 id="1-泛型约束"><a href="#1-泛型约束" class="headerlink" title="1. 泛型约束"></a>1. 泛型约束</h4><p>使用interface对泛型进行约束</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> echoWithArr&lt;T&gt;(<span class="attr">arg</span>: T[]): T[] &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">length</span>)</span><br><span class="line">  <span class="keyword">return</span> arg</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IWithLength</span> &#123;</span><br><span class="line">  <span class="attr">length</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> echoWithLength&lt;T <span class="keyword">extends</span> <span class="title class_">IWithLength</span>&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">length</span>)</span><br><span class="line">  <span class="keyword">return</span> arg</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> str = <span class="title function_">echoWithLength</span>(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> obj = <span class="title function_">echoWithLength</span>(&#123;<span class="attr">length</span>: <span class="number">10</span>&#125;)</span><br><span class="line"><span class="keyword">const</span> arr2 = <span class="title function_">echoWithLength</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>



<h4 id="2-类"><a href="#2-类" class="headerlink" title="2. 类"></a>2. 类</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">private</span> data = []</span><br><span class="line"></span><br><span class="line">  <span class="title function_">push</span>(<span class="params">item: T</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">data</span>.<span class="title function_">push</span>(item)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">pop</span>(): T &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span>.<span class="title function_">shift</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> queue = <span class="keyword">new</span> <span class="title class_">Queue</span>&lt;<span class="built_in">number</span>&gt;()</span><br><span class="line">queue.<span class="title function_">push</span>(<span class="number">1</span>)</span><br><span class="line">queue.<span class="title function_">push</span>(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> queue2 = <span class="keyword">new</span> <span class="title class_">Queue</span>&lt;<span class="built_in">string</span>&gt;()</span><br><span class="line">queue2.<span class="title function_">push</span>(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">queue2.<span class="title function_">push</span>(<span class="string">&#x27;mike&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="3-接口"><a href="#3-接口" class="headerlink" title="3. 接口"></a>3. 接口</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">interface</span>: keyPair&lt;T, U&gt; &#123;</span><br><span class="line">  <span class="attr">key</span>: T;</span><br><span class="line">  <span class="attr">value</span>: U;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">kp1</span>: <span class="title class_">KeyPair</span>&lt;<span class="built_in">number</span>, <span class="built_in">string</span>&gt; = &#123; <span class="attr">key</span>:<span class="number">123</span>, <span class="attr">value</span>:<span class="string">&quot;str&quot;</span> &#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-数组"><a href="#4-数组" class="headerlink" title="4. 数组"></a>4. 数组</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">arr</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> <span class="attr">arr2</span>: <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>



<h4 id="5-函数"><a href="#5-函数" class="headerlink" title="5. 函数"></a>5. 函数</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IPlus</span>&lt;T&gt; &#123;</span><br><span class="line">  (<span class="attr">a</span>: T, <span class="attr">b</span>: T) : T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">plus</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>) : <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">connect</span>(<span class="params">a: <span class="built_in">string</span>, b: <span class="built_in">string</span></span>) : <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">a</span>: <span class="title class_">IPlus</span>&lt;<span class="built_in">number</span>&gt; = plus</span><br><span class="line"><span class="keyword">const</span> <span class="attr">b</span>: <span class="title class_">IPlus</span>&lt;<span class="built_in">string</span>&gt; = connect</span><br></pre></td></tr></table></figure>



<h2 id="类型别名"><a href="#类型别名" class="headerlink" title="类型别名"></a>类型别名</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">PlusType</span> = <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">sum2</span>: <span class="title class_">PlusType</span> = sum</span><br></pre></td></tr></table></figure>



<h4 id="1-联合类型"><a href="#1-联合类型" class="headerlink" title="1. 联合类型"></a>1. 联合类型</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NameResolver</span> = <span class="function">() =&gt;</span> <span class="built_in">string</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NameOrResolver</span> = <span class="built_in">string</span> | <span class="title class_">NameResolver</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params">n: NameOrResolver</span>): <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> n === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">n</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h2><p>通过<code>as</code>表示你对一些类型的判断</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getLength</span>(<span class="params">input: <span class="built_in">string</span> | <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> str = input <span class="keyword">as</span> <span class="title class_">String</span></span><br><span class="line">  <span class="keyword">if</span>(str.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> str.<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>另一种方法</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getLength</span>(<span class="params">input: <span class="built_in">string</span> | <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>((&lt;<span class="built_in">string</span>&gt;input).<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (&lt;<span class="built_in">string</span>&gt;input).<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> input.<span class="title function_">toString</span>().<span class="property">length</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/14/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/14/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AF%87/" class="post-title-link" itemprop="url">秋招保驾护航——操作系统篇</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-09-14 15:44:43" itemprop="dateCreated datePublished" datetime="2021-09-14T15:44:43+08:00">2021-09-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:43:18" itemprop="dateModified" datetime="2023-05-07T17:43:18+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">计算机基础</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>秋招保驾护航系列文章正在持续更新，往期文章如下，需者自取：</p>
<ul>
<li>html、css：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6998576161382989861" title="https://juejin.cn/post/6998576161382989861">秋招保驾护航——HTML、CSS篇</a></li>
<li>js：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6987776819281805342/" title="https://juejin.cn/post/6987776819281805342/">秋招保驾护航——js面试篇（上）</a>、<a target="_blank" rel="noopener" href="https://juejin.cn/post/6988515657105047559" title="https://juejin.cn/post/6988515657105047559">秋招保驾护航——js面试篇（下）</a></li>
<li>浏览器：<a href="https://link.juejin.cn/?target=http://blog.wutortoise.cn/2021/08/10/%25E7%25A7%258B%25E6%258B%259B%25E4%25BF%259D%25E9%25A9%25BE%25E6%258A%25A4%25E8%2588%25AA%25E2%2580%2594%25E2%2580%2594%25E2%2580%2594%25E6%25B5%258F%25E8%25A7%2588%25E5%2599%25A8%25E7%25AF%2587" title="http://blog.wutortoise.cn/2021/08/10/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E2%80%94%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AF%87">秋招保驾护航——浏览器篇</a></li>
<li>vue：<a target="_blank" rel="noopener" href="http://blog.wutortoise.cn/2021/09/07/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94vue%E7%AF%87">秋招保驾护航——vue篇</a></li>
<li>计算机网络：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7002150458189938718">秋招保驾护航——计算机网络</a></li>
<li>操作系统：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7007690805573845028/">秋招保驾护航——操作系统篇</a></li>
<li>数据库：<a target="_blank" rel="noopener" href="http://blog.wutortoise.cn/2021/09/09/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AF%87">秋招保驾护航——数据库篇</a></li>
</ul>
<h2 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h2><p>作为基础课程，需要了解常见的知识</p>
<p><strong>基本概念：</strong></p>
<ul>
<li>操作系统的概念、特征、提供的服务</li>
<li>特权指令、非特权指令、操作系统的内核</li>
<li>中断和异常</li>
<li>系统调用</li>
</ul>
<p><strong>进程管理：</strong></p>
<ul>
<li>进程的定义、组成、组织方式、特征</li>
<li>进程的状态和转换（5中状态、7种状态）</li>
<li>进程的通信：共享存储、管道通信、消息传递</li>
<li>进程和线程的区别</li>
<li>处理机的调度：高级调度（作业调度）、中级调度（虚拟存储技术）、低级调度（进程调度）</li>
<li>进程调度算法： FCFS、短进程优先调度、时间轮片调度算法、不可剥夺优先级调度算法、可剥夺优先级调度算法</li>
<li>进程的同步、互斥</li>
<li>进程互斥的实现：软件层面、硬件层面、信号量、管程</li>
<li>死锁的概念、产生条件、发生时机</li>
<li>死锁的处理方法：预防死锁、避免死锁（银行家算法）、死锁的检测和解除</li>
</ul>
<p><strong>存储管理：</strong></p>
<ul>
<li>负责内存空间的分配和回收</li>
<li>提供某种技术从逻辑上对内存空间进行扩充（虚拟内存技术）</li>
<li>地址转换功能，逻辑地址到物理地址的转换，程序员只要关心逻辑地址上的变化<ul>
<li>绝对装入：编译器负责地址转换（单批道，无操作系统）</li>
<li>可重定位装入：装入程序负责地址转换（早期多批道处理阶段）</li>
<li>动态运行时装入：运行时才进行地址转换（现代操作系统）</li>
</ul>
</li>
<li>操作系统需要提供内存保护功能，保证各个进程在各自存储空间内运行，互不干扰<ul>
<li>设置上下限寄存器</li>
<li>利用重定位寄存器、界地址寄存器进行判断</li>
</ul>
</li>
</ul>
<p><strong>文件管理：</strong></p>
<ul>
<li>文件内部数据如何组织起来？</li>
<li>文件之间如何组织起来？</li>
<li>从下往上看，os应该提供哪些功能来方便用户使用？</li>
<li>从上往下看，文件数据应该如何被存放到外存磁盘上？</li>
</ul>
<h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><h2 id="1-操作系统的基本概念"><a href="#1-操作系统的基本概念" class="headerlink" title="1. 操作系统的基本概念"></a>1. 操作系统的基本概念</h2><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/57a402c520514b1587d862b23f12b317~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>下面从几个方面来看操作系统提供的服务：</p>
<p><strong>（1）作为系统资源管理者</strong></p>
<ul>
<li>处理机管理</li>
<li>存储管理</li>
<li>文件管理</li>
<li>设备管理</li>
</ul>
<p><strong>（2）作为用户和计算机硬件之间的接口</strong></p>
<ul>
<li>命令接口</li>
<li>程序接口</li>
<li>GUI</li>
</ul>
<p><strong>（3）作为最接近硬件的层次</strong></p>
<ul>
<li>实现对硬件机器的拓展</li>
</ul>
<h2 id="2-操作系统的特征"><a href="#2-操作系统的特征" class="headerlink" title="2. 操作系统的特征"></a>2. 操作系统的特征</h2><p><strong>（1）并发</strong></p>
<ul>
<li>并发：两个或多个事件在同一时间段内同时发生。宏观上是同步的，微观上是交替的。</li>
<li>并行：两个或多个事件在同一时刻发生。</li>
</ul>
<p><strong>（2）共享</strong></p>
<p>资源共享，系统中的资源可以同时给多个并发的进程使用。有两种共享方式：</p>
<ul>
<li>互斥共享：一个时间段内只能一个进程访问。</li>
<li>同时共享：一个时间段内可以多个进程访问。宏观上是同步的，微观上是交替的。</li>
</ul>
<p><strong>（3）虚拟</strong></p>
<p>将物理上的实体，即实际存在的，转换成逻辑上的对应物，即用户感知的。</p>
<p><strong>（4）异步</strong></p>
<p>进程的执行不是连续的，而是走走停停的。</p>
<h1 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h1><h2 id="1-进程的概念"><a href="#1-进程的概念" class="headerlink" title="1. 进程的概念"></a>1. 进程的概念</h2><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7dc5947373a3499fa1999c0072f6f86b~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>进程由PCB、程序段和数据段组成。</p>
<ul>
<li>进程是程序的一次执行</li>
<li>进程是系统调用和进行资源分配的独立单位</li>
</ul>
<h2 id="2-进程的状态以及转换"><a href="#2-进程的状态以及转换" class="headerlink" title="2. 进程的状态以及转换"></a>2. 进程的状态以及转换</h2><p><strong>引入交换技术前的进程调度：</strong></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/43ff867896494199a51fffbe1b0137d3~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><strong>引入交换技术后的进程调度：</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6e9003f0a18447188ca8720cc2a75d87~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="3-进程的通信"><a href="#3-进程的通信" class="headerlink" title="3. 进程的通信"></a>3. 进程的通信</h2><p>进程是独立的资源分配单位，一次进程之间信息的交换需要进行通信。</p>
<p><strong>（1）共享存储方式</strong></p>
<ul>
<li>这种方式中进程对空间的访问必须是互斥的</li>
</ul>
<p><strong>（2）管道通信</strong></p>
<ul>
<li>管道通信是半双工的，如果想要全双工，需要两个管道</li>
<li>各进程互斥访问管道</li>
</ul>
<p><strong>（3）消息传递</strong></p>
<ul>
<li>由操作系统提供的“发送消息&#x2F;接受消息”的原语完成</li>
</ul>
<h2 id="4-进程和线程"><a href="#4-进程和线程" class="headerlink" title="4. 进程和线程"></a>4. 进程和线程</h2><p>早期系统是单批道，会导致系统资源处于空闲。在引入操作系统后提供了进程的管理和控制，因此可以并发的运行多个程序。而一个进程内部可能也需要并发运行的制度，比如我们使用qq需要同时进行视频和聊天两项功能，因此出现了一种轻量级的进程，也就是线程。</p>
<ul>
<li>进程是系统资源分配的最小单位，线程是cpu调度的最小单元</li>
<li>线程是轻量级的进程，同一个进程的线程可以共享资源</li>
<li>线程提高了并发度，且开销比进程小。</li>
</ul>
<h2 id="5-处理机的调度"><a href="#5-处理机的调度" class="headerlink" title="5. 处理机的调度"></a>5. 处理机的调度</h2><p>由于系统资源有限，处理机需要按照某种规则来处理任务的顺序。</p>
<p>处理机的调度有三个层次：</p>
<ul>
<li>高级调度（作业调度）</li>
<li>中级调度（面向进程）</li>
<li>低级调度（进程调度）</li>
</ul>
<h3 id="5-1-高级调度"><a href="#5-1-高级调度" class="headerlink" title="5.1 高级调度"></a>5.1 高级调度</h3><p>高级调度是<strong>面向作业</strong>的。由于内存空间有限。需要按照一定的规则从后备作业挑选一个或多个作业进行资源分配，建立相应的进程。</p>
<h3 id="5-2-中级调度"><a href="#5-2-中级调度" class="headerlink" title="5.2 中级调度"></a>5.2 中级调度</h3><p>中级调度是<strong>面向进程</strong>的。这里面涉及到了虚拟存储技术，就是将暂时不能运行的进程调至外存。等待其重新具备了运行的条件后在重新调入内存，而这种调至外存的状态叫做挂起状态</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6e9003f0a18447188ca8720cc2a75d87~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="5-3-低级调度"><a href="#5-3-低级调度" class="headerlink" title="5.3 低级调度"></a>5.3 低级调度</h3><p>按照某种方法和策略从就绪队列中选取一个进程，并为其分配cpu</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/43ff867896494199a51fffbe1b0137d3~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>一些常见的<strong>进程调度算法</strong>：</p>
<ul>
<li>先来先服务算法（FCFS）</li>
<li>非剥夺的优先级调度</li>
<li>剥夺的优先级调度</li>
<li>时间片轮转调度算法（RR）</li>
<li>短进程有限调度算法（SPF）</li>
</ul>
<h1 id="存储管理"><a href="#存储管理" class="headerlink" title="存储管理"></a>存储管理</h1><p>操作系统作为资源的管理者，需要负责的事情如下：</p>
<ul>
<li>负责内存空间的分配和回收</li>
<li>提供某种技术从逻辑上对内存空间进行扩充（虚拟内存技术）</li>
<li>地址转换功能，逻辑地址到物理地址的转换，程序员只要关心逻辑地址上的变化<ul>
<li>绝对装入：编译器负责地址转换（单批道，无操作系统）</li>
<li>可重定位装入：装入程序负责地址转换（早期多批道处理阶段）</li>
<li>动态运行时装入：运行时才进行地址转换（现代操作系统）</li>
</ul>
</li>
<li>操作系统需要提供内存保护功能，保证各个进程在各自存储空间内运行，互不干扰<ul>
<li>设置上下限寄存器</li>
<li>利用重定位寄存器、界地址寄存器进行判断</li>
</ul>
</li>
</ul>
<h2 id="1-内存扩充技术"><a href="#1-内存扩充技术" class="headerlink" title="1. 内存扩充技术"></a>1. 内存扩充技术</h2><h3 id="1-1-覆盖技术"><a href="#1-1-覆盖技术" class="headerlink" title="1.1 覆盖技术"></a>1.1 覆盖技术</h3><p><strong>核心思想：</strong> 将程序分成多段，常用的段常驻内存，不常用的段需要调用的时候调入内存。</p>
<p><strong>实现方法：</strong> 内存中分为一个<strong>固干区</strong>，和若干个<strong>覆盖区</strong>。</p>
<ul>
<li>常住内存的段进入固干区，调入后就不调出</li>
<li>不常用的段进入覆盖区，需要调用时调入内存，不需要时调出内存</li>
</ul>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75feb6b13eb446dfa33a649968556dea~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>缺点：必须由程序员声明覆盖结构，操作系统完成自动覆盖。已经退出历史的舞台。</p>
<h3 id="1-2-交换技术"><a href="#1-2-交换技术" class="headerlink" title="1.2 交换技术"></a>1.2 交换技术</h3><p>交换技术的设计思想：内存紧张时，系统将内存中的某些进程暂时<strong>换出</strong>至外存，把外存中已经具备运行条件的进程<strong>换入</strong>内存。（处理机调度——中级调度，进程在内存和磁盘间动态调度，需要使用虚拟内存的技术）</p>
<p><strong>引入交换技术前的进程调度：</strong></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/43ff867896494199a51fffbe1b0137d3~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><strong>引入交换技术后的进程调度：</strong><br><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6e9003f0a18447188ca8720cc2a75d87~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>问题：</p>
<ul>
<li>应该在外存的什么位置保存被换出的进程？</li>
<li>什么时候应该交换？</li>
<li>应该换出哪些进程？</li>
</ul>
<h4 id="1-应该在外存的什么位置保存被换出的进程？"><a href="#1-应该在外存的什么位置保存被换出的进程？" class="headerlink" title="1. 应该在外存的什么位置保存被换出的进程？"></a>1. 应该在外存的什么位置保存被换出的进程？</h4><p>在具有交换功能的操作系统中，通常把磁盘分为<strong>文件区</strong>和<strong>对换区</strong>两部分。</p>
<ul>
<li>文件区主要用于存放文件。主要追求存储空间利用率，因此文件区的空间管理采用<strong>离散分配的方式</strong>。</li>
<li>对换区空间只占磁盘的一小部分，被换出的进程数据就放在这里。因为追求的换入换出速度，因此对换区空间管理采用<strong>连续分配的方式</strong>。</li>
<li>因为文件区的空间管理采用<strong>离散分配的方式</strong>，对换区空间管理采用<strong>连续分配的方式</strong>，所以交换区的I&#x2F;O操作更快。</li>
</ul>
<h4 id="2-什么时候应该交换？"><a href="#2-什么时候应该交换？" class="headerlink" title="2. 什么时候应该交换？"></a>2. 什么时候应该交换？</h4><p>在很多进程执行，内存比较不够用时可以进行交换。</p>
<ul>
<li>在发现许多进程运行时经常发生缺页，说明内存紧张，此时可以换出一些进程。</li>
<li>如果缺页率明显下降，可以暂停换出。</li>
</ul>
<h4 id="3-应该换出哪些进程？"><a href="#3-应该换出哪些进程？" class="headerlink" title="3. 应该换出哪些进程？"></a>3. 应该换出哪些进程？</h4><p>这考虑调度的策略，各有优劣</p>
<ul>
<li>可以优先换出阻塞的进程</li>
<li>可以换出优先级低的进程</li>
</ul>
<p><strong>ps：PCB会常驻内存，不会换出外存。</strong></p>
<h2 id="2-内存空间的分配与回收-——-连续分配"><a href="#2-内存空间的分配与回收-——-连续分配" class="headerlink" title="2. 内存空间的分配与回收 —— 连续分配"></a>2. 内存空间的分配与回收 —— 连续分配</h2><p>内存空间的分配主要有两种方式</p>
<ul>
<li>连续分配管理：为进程分配的必须是一个连续的内存空间<ul>
<li>单一连续分配</li>
<li>固定分区分配</li>
<li>动态分区分配</li>
</ul>
</li>
<li>非连续分配管理：为进程分配的可以是一个离散的内存空间<ul>
<li>基本分页存储管理</li>
<li>基本分段存储管理</li>
<li>段页式存储管理</li>
</ul>
</li>
</ul>
<h3 id="2-1-单一连续分配"><a href="#2-1-单一连续分配" class="headerlink" title="2.1 单一连续分配"></a>2.1 单一连续分配</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/28b3c9dbafed4ee28e93e053577c2c25~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="2-2-固定分区分配"><a href="#2-2-固定分区分配" class="headerlink" title="2.2 固定分区分配"></a>2.2 固定分区分配</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67218c5e9d584d72b43911fdb0afaa9c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>操作系统需要建立一个数据结构 —— <strong>分区说明表</strong>，来实现各个分区的分配与回收。每个表项包括对应分区的大小、起始地址、状态（是否被分配）</p>
<p><strong>优点：</strong> 实现简单，无外部碎片</p>
<p><strong>缺点：</strong> a. 当用户程序太大时，可能所有分区都不满足要求，此时不得不采用覆盖技术来解决，而这又会降低性能。 b. 会产生内部碎片，内存利用率低。</p>
<h3 id="2-3-动态分区分配"><a href="#2-3-动态分区分配" class="headerlink" title="2.3 动态分区分配"></a>2.3 动态分区分配</h3><p><strong>动态分区分配</strong>不会预先划分内存区分，而是在进程装入内存时，<strong>根据进程的大小动态的建立分区</strong>，使分区的大小刚好适合进程的需要。</p>
<p>考虑的问题：</p>
<ul>
<li>采用什么样的数据结构记录内存使用情况？</li>
<li>当很多个空闲区满足需求时，应该选择哪个分区进行分配？</li>
</ul>
<h4 id="1-采用什么样的数据结构记录内存使用情况？"><a href="#1-采用什么样的数据结构记录内存使用情况？" class="headerlink" title="1. 采用什么样的数据结构记录内存使用情况？"></a>1. 采用什么样的数据结构记录内存使用情况？</h4><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/830bb646ccd64786aa291aff8c13bbae~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="2-当很多个空闲区满足需求时，应该选择哪个分区进行分配？"><a href="#2-当很多个空闲区满足需求时，应该选择哪个分区进行分配？" class="headerlink" title="2. 当很多个空闲区满足需求时，应该选择哪个分区进行分配？"></a>2. 当很多个空闲区满足需求时，应该选择哪个分区进行分配？</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.pianshen.com/article/24831274014/">操作系统——动态分区分配算法（详解）</a></p>
</blockquote>
<p>把一个新作业装入内存时，需要按照一定的动态分区分配算法，从空闲分区表（或空闲分区链）中选出一个分区分配给该作业。我们后面会接触到四种动态分区分配算法：</p>
<ul>
<li>首次适应算法（First Fit）</li>
<li>最佳适应算法（Best Fit）</li>
<li>最坏适应算法（Worst Fit）</li>
<li>邻近适应算法（Next Fit）</li>
</ul>
<h2 id="3-内存空间的分配与回收-——-非连续分配"><a href="#3-内存空间的分配与回收-——-非连续分配" class="headerlink" title="3. 内存空间的分配与回收 —— 非连续分配"></a>3. 内存空间的分配与回收 —— 非连续分配</h2><p>内存空间的分配主要有两种方式：</p>
<ul>
<li>连续分配管理：为进程分配的必须是一个连续的内存空间<ul>
<li>单一连续分配</li>
<li>固定分区分配</li>
<li>动态分区分配</li>
</ul>
</li>
<li>非连续分配管理：为进程分配的可以是一个离散的内存空间<ul>
<li>基本分页存储管理</li>
<li>基本分段存储管理</li>
<li>段页式存储管理</li>
</ul>
</li>
</ul>
<p>上面我们学习了连续分配，它存在一些缺点</p>
<ul>
<li>固定分区分配：缺乏灵活性，会产生大量的内部碎片，内存利用率低</li>
<li>动态分区分配：会产生很多外部碎片，虽然可以使用“紧凑”技术解决，但是“紧凑”技术的时间代价很高</li>
</ul>
<h3 id="3-1-分页存储管理"><a href="#3-1-分页存储管理" class="headerlink" title="3.1 分页存储管理"></a>3.1 分页存储管理</h3><p><strong>核心思想：</strong> 根据固定分区的大小，将进程拆分成不同大小的部分。当固定分区较小时，产生的内部碎片会很小，从而提高了内存的利用率。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a619c571cb004b6289254ec035ea78aa~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><strong>考虑问题：</strong> 如何实现逻辑地址到物理地址的转换？</p>
<p>先回顾一下，在连续分配内存中逻辑地址到物理地址的转换是通过<code>模块在内存中的起始地址 + 目标单元相对于起始地址的偏移量</code>来计算得到的。</p>
<p>再考虑在分页技术中，其实和连续分配的方式类似。不同的地方在于，在分页技术中进程被分成多段，不连续的存储在不同的内存中。具体过程如下：</p>
<ul>
<li>计算出逻辑地址对应的页号：<code>页号 = 逻辑地址 / 页面长度</code></li>
<li>找到该页号在内存中的起始地址：<code>查页表</code></li>
<li>算出逻辑地址在页面的偏移量：<code>偏移量 = 逻辑地址 % 页面长度</code></li>
<li>物理地址 &#x3D; 页面起始地址 + 页面偏移量</li>
</ul>
<p><strong>逻辑地址结构：</strong> 页号 + 页内偏移量</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3463b742e2ef4beca7ef714c3ced181c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><strong>页表：</strong> 操作系统为每一个进程建立一个页表，这样就可以根据页号查询对应页号在内存中的起始地址</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3e7ffe3838ba4e43844490de1fa8bcba~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="3-2-分段存储管理"><a href="#3-2-分段存储管理" class="headerlink" title="3.2 分段存储管理"></a>3.2 分段存储管理</h3><p><strong>核心思想：</strong> 分段类似分页，段表类似页表。不同的是不同的段大小不同，页的大小是相同的。</p>
<p><strong>分段：</strong> 按照程序自身划分为若干段，每个段都有段名，每个段从0开始编址。</p>
<p><strong>内存分配规则：</strong> 以段为单位分配，每个段在内存中占连续空间，但是各段可以不相邻</p>
<p><strong>逻辑地址结构：</strong> 段号 + 段内偏移量</p>
<p><strong>段表：</strong> 操作系统为每一个进程建立一个段表，这样就可以根据段号查询对应段号在内存中的起始地址</p>
<h3 id="3-3-段页式存储管理"><a href="#3-3-段页式存储管理" class="headerlink" title="3.3 段页式存储管理"></a>3.3 段页式存储管理</h3><p>先来看看分页管理和分段管理的优缺点：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody><tr>
<td>分页管理</td>
<td>内存利用率高，不会产生外部碎片。当页大小够小时，只会产生一小部分的页内碎片</td>
<td>不方便按照逻辑实现信息的共享和保护</td>
</tr>
<tr>
<td>分段管理</td>
<td>方便按照逻辑实现信息的共享和保护</td>
<td>段长过大，为其分配过长的连续内存空间不方便。其次，会产生外部碎片</td>
</tr>
</tbody></table>
<p>段页式管理：结合段式管理和页式管理</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e685b442a744b87af99cbc1b661fe49~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="4-虚拟内存"><a href="#4-虚拟内存" class="headerlink" title="4. 虚拟内存"></a>4. 虚拟内存</h2><h3 id="4-1-虚拟内存的基本概念"><a href="#4-1-虚拟内存的基本概念" class="headerlink" title="4.1 虚拟内存的基本概念"></a>4.1 虚拟内存的基本概念</h3><p><strong>传统存储管理存在的问题：</strong></p>
<p>上面我们学习了传统的存储管理方式:连续内存分配和非连续内存分配两种方式。</p>
<ul>
<li><p>一次性：作业必须一次性装入内存才能开始运行。</p>
<ul>
<li>作业很大时，内存不够，导致大作业不能运行</li>
<li>大量作业要求运行时，内存无法容纳所有作业，并发度下降</li>
</ul>
</li>
<li><p>驻留性：一旦作业被装入内存，就会一直驻留在内存中，直到作业结束。而实际情况是，一个时间段内只需要访问一小部分数据就可以，驻留会导致内存资源的浪费。</p>
</li>
</ul>
<p><strong>局部性原理：</strong></p>
<ul>
<li>时间局部性：<ul>
<li>如果执行到了程序中的某条指令，那么不久后这条指令可能会再次执行</li>
<li>如果某个数据被访问了，不久后该数据还可能被访问</li>
</ul>
</li>
<li>空间局部性：<ul>
<li>一旦程序访问了某个存储单元，不久后，其附近的存储单元也有可能被访问。（因为很多数据是连续存储的）</li>
</ul>
</li>
</ul>
<p><strong>高速缓存思想：</strong> 将近期频繁访问的数据放到高速缓存器中，暂时用不到的放到低速缓存中。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b215010003845ca85ce89299e6bee81~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><strong>虚拟内存的定义：</strong> 根据局部性原理和高速缓存的思想，我们可以将一些不常用的数据放到外存中。</p>
<ul>
<li>当访问的信息不在内存中时，操作系统负责调入</li>
<li>当内存空间不够时，操作系统负责调出<br>在这种管理模式下，用户看起来有一个比实际内存大很多的内存，这就是<strong>虚拟内存</strong>。</li>
</ul>
<p><strong>虚拟内存的特点：</strong> </p>
<ul>
<li>多次性：解决了一次性的问题，不需要一次性将作业全部装入内存</li>
<li>对换性：作业运行时无需常驻，会根据使用频率来找到何使的存储位置。频率越高的约接近寄存器，反之越接近外村。</li>
<li>虚拟性：从逻辑上扩充了内存的容量。</li>
</ul>
<h1 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h1><p>文件是一组有意义的信息&#x2F;数据的结合。</p>
<p><strong>思考问题：</strong></p>
<ul>
<li>文件内部数据如何组织起来？</li>
<li>文件之间如何组织起来？</li>
<li>从下往上看，os应该提供哪些功能来方便用户使用？</li>
<li>从上往下看，文件数据应该如何被存放到外存磁盘上？</li>
</ul>
<h4 id="文件内部数据如何组织起来？"><a href="#文件内部数据如何组织起来？" class="headerlink" title="文件内部数据如何组织起来？"></a>文件内部数据如何组织起来？</h4><ul>
<li>无结构文件：如文本</li>
<li>有结构文件：如数据库</li>
</ul>
<h4 id="文件之间如何组织起来？"><a href="#文件之间如何组织起来？" class="headerlink" title="文件之间如何组织起来？"></a>文件之间如何组织起来？</h4><p>类似一个树状的结构，用户可以创建一层一层的目录（文件夹），目录中可以存放各个文件。</p>
<h4 id="从下往上看，os应该提供哪些功能来方便用户使用？"><a href="#从下往上看，os应该提供哪些功能来方便用户使用？" class="headerlink" title="从下往上看，os应该提供哪些功能来方便用户使用？"></a>从下往上看，os应该提供哪些功能来方便用户使用？</h4><ul>
<li>创建文件（create 系统调用）</li>
<li>读文件（delete 系统调用）</li>
<li>写文件（read 系统调用）</li>
<li>删除文件（write 系统调用）</li>
<li>打开文件（open 系统调用）：读写之前需要打开文件</li>
<li>关闭文件（close 系统调用）：读写完毕后需关闭文件</li>
</ul>
<h4 id="从上往下看，文件数据应该如何被存放到外存磁盘上？"><a href="#从上往下看，文件数据应该如何被存放到外存磁盘上？" class="headerlink" title="从上往下看，文件数据应该如何被存放到外存磁盘上？"></a>从上往下看，文件数据应该如何被存放到外存磁盘上？</h4><ul>
<li>与内存类似，外存也是一个个存储单元组成，每个存储单元对应一个物理地址。</li>
<li>外存也会被分成一个个块，每个磁盘块的大小是相同的</li>
</ul>
<h2 id="1-文件的逻辑结构"><a href="#1-文件的逻辑结构" class="headerlink" title="1. 文件的逻辑结构"></a>1. 文件的逻辑结构</h2><ul>
<li>无结构文件</li>
<li>有结构文件<ul>
<li>顺序文件</li>
<li>索引文件</li>
<li>索引顺序文件</li>
</ul>
</li>
</ul>
<h3 id="1-1-无结构文件"><a href="#1-1-无结构文件" class="headerlink" title="1.1 无结构文件"></a>1.1 无结构文件</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f63c53a6176e4f579320e41c581ab062~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="1-2-有结构文件"><a href="#1-2-有结构文件" class="headerlink" title="1.2 有结构文件"></a>1.2 有结构文件</h3><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1f92d9b90f4d45f088e6f7cd3dcafc5e~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="2-磁盘"><a href="#2-磁盘" class="headerlink" title="2. 磁盘"></a>2. 磁盘</h2><h3 id="2-1-磁盘的结构"><a href="#2-1-磁盘的结构" class="headerlink" title="2.1 磁盘的结构"></a>2.1 磁盘的结构</h3><p><strong>磁盘、磁道、扇区:</strong></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fffe3e3cc01a46bfb999c85254f3d720~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><strong>盘面、盘柱:</strong></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bb4e810b06bb464ea97916edc9ffd1f7~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="2-2-磁盘调度算法"><a href="#2-2-磁盘调度算法" class="headerlink" title="2.2 磁盘调度算法"></a>2.2 磁盘调度算法</h3><ul>
<li>先来先服务算法（FCFS）</li>
<li>最短寻找时间优先（SSTF）</li>
<li>扫描算法（SCAN）</li>
<li>循环扫描算法（C-SCAN）</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/09/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wk">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wk的博客">
      <meta itemprop="description" content="一个前端程序员">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | wk的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/09/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AF%87/" class="post-title-link" itemprop="url">秋招保驾护航——数据库篇</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-09-09 11:29:04" itemprop="dateCreated datePublished" datetime="2021-09-09T11:29:04+08:00">2021-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-07 17:43:39" itemprop="dateModified" datetime="2023-05-07T17:43:39+08:00">2023-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">计算机基础</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><p>基础课程之一，开发过程中经常使用。先看视频简历知识体系，后学习java的过程中逐渐深入。</p>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h4 id="1-什么是数据库？什么是数据库管理系统？什么是SQL？他们的关系是什么？"><a href="#1-什么是数据库？什么是数据库管理系统？什么是SQL？他们的关系是什么？" class="headerlink" title="1. 什么是数据库？什么是数据库管理系统？什么是SQL？他们的关系是什么？"></a>1. 什么是数据库？什么是数据库管理系统？什么是SQL？他们的关系是什么？</h4><p>数据库（database）：按照一定格式存储数据的一些文件的组合</p>
<p>数据库管理系统（DataBaseManagement）：用于管理数据库中的数据，可以对数据进行增删改查</p>
<p>SQL：结构化查询语言，程序运猿编写SQL语句，DBMS负责执行SQL语句，最终完成数据的增删改查</p>
<p>关系：DBMS执行SQL语句操作DB</p>
<h4 id="2-数据库常见指令"><a href="#2-数据库常见指令" class="headerlink" title="2. 数据库常见指令"></a>2. 数据库常见指令</h4><ul>
<li>exit：退出</li>
<li>show databases：查看数据库</li>
<li>use name：使用某个数据库</li>
<li>create database name：创建数据库</li>
</ul>
<h4 id="3-表"><a href="#3-表" class="headerlink" title="3. 表"></a>3. 表</h4><p>表（table）：数据库中最基本的单元</p>
<ul>
<li><p>数据库中以表的形式存储数据，表的形式比较直观</p>
</li>
<li><p>任何一张表都有行和列</p>
<ul>
<li>行（row）：称位数据&#x2F;记录</li>
<li>列（column）：被称为字段</li>
</ul>
</li>
</ul>
<h2 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h2><h4 id="1-假设一个表的主键是创建日期和id，还有一个属性是访问量，怎么通过sql语句求出平均每天访问量最大的id"><a href="#1-假设一个表的主键是创建日期和id，还有一个属性是访问量，怎么通过sql语句求出平均每天访问量最大的id" class="headerlink" title="1. 假设一个表的主键是创建日期和id，还有一个属性是访问量，怎么通过sql语句求出平均每天访问量最大的id"></a>1. 假设一个表的主键是创建日期和id，还有一个属性是访问量，怎么通过sql语句求出平均每天访问量最大的id</h4><p><strong>主要思路：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">select  id  </span><br><span class="line">from ( select </span><br><span class="line">       表名.id as id, </span><br><span class="line">       表名.访问量/(日期差计算函数(表名.create_time , now())+1) as 平均日访问量</span><br><span class="line">    from 表名</span><br><span class="line">)  as  临时表</span><br><span class="line">where 临时表.平均日访问量 = (</span><br><span class="line">    select</span><br><span class="line">         max( 表名.访问量/(日期差计算函数(表名.create_time , now())+1) )</span><br><span class="line">    from 表名  </span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在<code>mysql</code>中,如果<code>create_time</code>使用的是<code>TIMESTAMP</code>类型，则用 <code>TIMESTAMPDIFF( DAY, create_time , now()) + 1</code> 计算日期差</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">select  表名.id </span><br><span class="line">from    表名 </span><br><span class="line">inner join (</span><br><span class="line">    select </span><br><span class="line">        表名.id as id,</span><br><span class="line">        表名.create_time as create_time,</span><br><span class="line">        max( 表名.访问量/(日期差计算函数(表名.create_time , now())+1) ) as 最大平均日访问量</span><br><span class="line">    from 表名 </span><br><span class="line">) as 临时表 on (表名.id = 临时表.id and 表名.create_time = 临时表.create_time)</span><br></pre></td></tr></table></figure>



<h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><p>对表中的数据进行限定，保证数据的正确性、有效性和完整性</p>
<ul>
<li><p>非空约束：<code>not null</code></p>
</li>
<li><p>唯一约束：<code>unique</code></p>
</li>
<li><p>主键约束：<code>primary key</code></p>
</li>
<li><p>外键约束：<code>foreign key</code></p>
</li>
</ul>
<h4 id="1-非空约束"><a href="#1-非空约束" class="headerlink" title="1. 非空约束"></a>1. 非空约束</h4><p><code>not null</code>，限制某一列的值不能为null</p>
<ul>
<li><p>创建表时添加约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE stu(</span><br><span class="line">    id INT,</span><br><span class="line">    NAME VARCHAR(20) NOT NULL -- name不能为null</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建表后添加约束：<code>ALTER TABLE stu MODIFY NAME VARCHAR(20) NOT NULL;</code></p>
</li>
<li><p>删除约束：<code>ALTER TABLE stu MODIFY NAME VARCHAR(20);</code></p>
</li>
</ul>
<h4 id="2-唯一约束"><a href="#2-唯一约束" class="headerlink" title="2. 唯一约束"></a>2. 唯一约束</h4><p><code>unique</code>，限制某一列的值不能重复，受约束的列最多只能有一条记录为null</p>
<ul>
<li><p>创建表时添加约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE stu(</span><br><span class="line">    id INT,</span><br><span class="line">    phone_number VARCHAR(20) UNIQUE -- 手机号</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建表后添加约束：<code>ALTER TABLE stu MODIFY phone_number VARCHAR(20) UNIQUE;</code></p>
</li>
<li><p>删除唯一约束：<code>ALTER TABLE stu DROP INDEX phone_number;</code></p>
</li>
</ul>
<h4 id="3-主键约束"><a href="#3-主键约束" class="headerlink" title="3. 主键约束"></a>3. 主键约束</h4><p><code>primary key</code>，（1）主键非空且唯一（2）主键就是记录的唯一标识（3）一张表只能有一个字段为主键</p>
<ul>
<li><p>创建表时添加约束：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table stu(</span><br><span class="line">    id int primary key,-- 给id添加主键约束</span><br><span class="line">    name varchar(20)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建表后添加约束：<code>ALTER TABLE stu MODIFY id INT PRIMARY KEY;</code></p>
</li>
<li><p>删除主键约束</p>
<ul>
<li>（错误）<code>alter table stu modify id int;</code></li>
<li>（正确）<code>ALTER TABLE stu DROP PRIMARY KEY;</code></li>
</ul>
</li>
</ul>
<p><strong>自动增长:</strong></p>
<ol>
<li><p>概念：如果某一列的数据类型为数值类型，可以使用<code>auto_increment</code>设置值的自动增长</p>
</li>
<li><p>创建表时，添加主键约束，并且设置自动增长</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,<span class="comment">-- 给id添加主键约束</span></span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建表后，设置自动增长：<code>ALTER TABLE stu MODIFY id INT AUTO_INCREMENT;</code></p>
</li>
<li><p>删除自动增长：<code>ALTER TABLE stu MODIFY id INT;</code></p>
</li>
</ol>
<h4 id="4-外键约束"><a href="#4-外键约束" class="headerlink" title="4. 外键约束"></a>4. 外键约束</h4><p><code>foreign key</code>，让表与表产生关系，从而保证数据的正确性</p>
<ul>
<li><p>创建表时添加外键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">    ...</span><br><span class="line">    外键列名 数据类型,</span><br><span class="line">    constraint 外键名称 foreign key (外键列名) references 主表名称(主表列名)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除外键：<code>alter table 表名 drop foreign key 外键名称;</code></p>
</li>
<li><p>创建表后添加外键：<code>alter table 表名 add constraint 外键名称 foreign key (外键列名) references 主表名称(主表列名);</code></p>
</li>
<li><p>级联操作</p>
<ul>
<li><p>添加级联：<code>alter table 表名 add constraint 外键名称 foreign key (外键列名) references 主表名称(主表列名) on update cascade on delete cascade;</code></p>
</li>
<li><p>级联分类</p>
<ul>
<li><p>级联更新：<code>on update cascade</code></p>
</li>
<li><p>级联删除：<code>on delete cascade</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>外键可以为null，但是不可以为不存在的外键值</p>
</li>
</ul>
<h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><h4 id="1-什么是事务？"><a href="#1-什么是事务？" class="headerlink" title="1. 什么是事务？"></a>1. 什么是事务？</h4><p>一个事务其实就是一个完整的业务逻辑</p>
<p>eg. a账户向b账户转账100元</p>
<ul>
<li>a账户钱 -100（update语句）</li>
<li>b账户 +100（update语句）</li>
</ul>
<p>以上操作是一个最小的工作单元，要么同时成功，要么同时失败，不可再分。</p>
<h4 id="2-只有DML才有事务一说，其他语句和事务无关"><a href="#2-只有DML才有事务一说，其他语句和事务无关" class="headerlink" title="2. 只有DML才有事务一说，其他语句和事务无关"></a>2. 只有DML才有事务一说，其他语句和事务无关</h4><p>只有insert、delete、update三个语句和事务有关，因为只有以上三个语句是数据库表中的数据进行增删改。而涉及到增删改就要考虑安全问题。</p>
<h4 id="3-事务的理解"><a href="#3-事务的理解" class="headerlink" title="3. 事务的理解"></a>3. 事务的理解</h4><p>事务不是一个语句完成的，是由多个语句共同协作完成的。因为完成一个业务逻辑，需要多个步骤对应多个语句完成，如果任何事务一条DML语句执行，那么事务就失去了价值。<strong>所以事务可以认为是一批同时成功、同时失败的DML语句。</strong></p>
<h4 id="4-事务是如何实现的？"><a href="#4-事务是如何实现的？" class="headerlink" title="4. 事务是如何实现的？"></a>4. 事务是如何实现的？</h4><p>在执行事务时，每一条DML的操作都会记录到“事务性活动文件中”，在事务执行的过程中可以<strong>提交事务</strong>，也可以<strong>回滚事务</strong>。</p>
<ul>
<li>提交事务：清空事务性活动日志，将数据全部彻底持久化到数据库表中。标志着事务的成功结束。</li>
<li>回滚事务：将之前的所有DML操作全部撤销，清空事务性活动日志。标志着事务的失败结束。</li>
</ul>
<h4 id="5-事务的特性"><a href="#5-事务的特性" class="headerlink" title="5. 事务的特性"></a>5. 事务的特性</h4><ul>
<li>原子性：事务是最小的工作单元，不可再分</li>
<li>一致性：同一个事务中的操作同时成功或同时失败，以保证数据的一致性</li>
<li>隔离性：两个事务之间有一定的隔离</li>
<li>持久性：事务最终结束时，将数据进行存储</li>
</ul>
<h4 id="6-事务隔离级别"><a href="#6-事务隔离级别" class="headerlink" title="6. 事务隔离级别"></a>6. 事务隔离级别</h4><p>四个级别：</p>
<ul>
<li>读未提交：read uncommitted（级别最低）<ul>
<li>事务A可以读取到事务B未提交的数据</li>
<li>存在的问题：脏读（Dirty Read）现象</li>
</ul>
</li>
<li>读已提交：read committed<ul>
<li>事务A只能读取到事务B已提交的数据，这是大多数据库的隔离级别</li>
<li>解决的问题：脏读现象</li>
<li>存在的问题：不可重复读取数据，在事务开启后</li>
</ul>
</li>
<li>可重复读：repeatable read<ul>
<li>可重复读取：事务A开启后，不管多久，每一次在事务A中读取的数据都是一致的。</li>
<li>解决了问题：不可重复读</li>
</ul>
</li>
<li>序列化：serializable（级别最高）</li>
</ul>
<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><h4 id="1-什么是索引？"><a href="#1-什么是索引？" class="headerlink" title="1. 什么是索引？"></a>1. 什么是索引？</h4><p>索引是在数据库表的字段上添加的，是为了提高查询效率的一种机制。</p>
<h4 id="2-MySql两种存储引擎区别"><a href="#2-MySql两种存储引擎区别" class="headerlink" title="2. MySql两种存储引擎区别"></a>2. MySql两种存储引擎区别</h4><table>
<thead>
<tr>
<th>引擎</th>
<th>特性</th>
</tr>
</thead>
<tbody><tr>
<td>MYISAM</td>
<td>不支持外键，表锁，插入数据时，锁定整个表，查表总行数时，不需要全表扫描</td>
</tr>
<tr>
<td>INNODB</td>
<td>支持外键，行锁，查表总行数时，全表扫描</td>
</tr>
</tbody></table>
<h4 id="3-索引的方式"><a href="#3-索引的方式" class="headerlink" title="3. 索引的方式"></a>3. 索引的方式</h4><table>
<thead>
<tr>
<th>索引</th>
<th>区别</th>
</tr>
</thead>
<tbody><tr>
<td>Hash</td>
<td>hash索引，等值查询效率高，不能排序,不能进行范围查询</td>
</tr>
<tr>
<td>B+</td>
<td>数据有序,范围查询</td>
</tr>
</tbody></table>
<h4 id="4-索引的分类"><a href="#4-索引的分类" class="headerlink" title="4. 索引的分类"></a>4. 索引的分类</h4><table>
<thead>
<tr>
<th>索引类型</th>
<th>概念</th>
</tr>
</thead>
<tbody><tr>
<td>普通索引</td>
<td>最基本的索引，没有任何限制</td>
</tr>
<tr>
<td>唯一索引</td>
<td>数据有序,范围查询</td>
</tr>
<tr>
<td>主键索引</td>
<td>它是一种特殊的唯一索引，不允许有空值。</td>
</tr>
<tr>
<td>全文索引</td>
<td>针对较大的数据，生成全文索引很耗时好空间。</td>
</tr>
<tr>
<td>组合索引</td>
<td>为了更多的提高mysql效率可建立组合索引，遵循”最左前缀“原则</td>
</tr>
</tbody></table>
<h4 id="5-索引的优缺点，什么时候使用索引，什么时候不能使用索引"><a href="#5-索引的优缺点，什么时候使用索引，什么时候不能使用索引" class="headerlink" title="5. 索引的优缺点，什么时候使用索引，什么时候不能使用索引"></a>5. 索引的优缺点，什么时候使用索引，什么时候不能使用索引</h4><p>索引最大的好处是提高查询速度， 缺点是更新数据时效率低，因为要同时更新索引 对数据进行频繁查询进建立索引，如果要频繁更改数据不建议使用索引。</p>
<h2 id="数据库的设计"><a href="#数据库的设计" class="headerlink" title="数据库的设计"></a>数据库的设计</h2><h4 id="1-表与表之间的关系"><a href="#1-表与表之间的关系" class="headerlink" title="1. 表与表之间的关系"></a>1. 表与表之间的关系</h4><p>（1）<strong>一对多（多对一）</strong></p>
<ul>
<li>在<strong>多</strong>的一方建立外键，指向<strong>一</strong>的一方的主键</li>
</ul>
<p>（2）<strong>多对多</strong></p>
<ul>
<li>借助第三张中间表，中间表至少包含两个字段，这两个字段作为中间表的外键，分别指向两张表的主键</li>
</ul>
<p>（3）<strong>一对一</strong></p>
<ul>
<li>在任意一方添加唯一外键指向另一方的主键</li>
<li>一对一通常合并为一张表，不必拆分为两张表。</li>
</ul>
<h4 id="2-范式"><a href="#2-范式" class="headerlink" title="2. 范式"></a>2. 范式</h4><p>设计数据库时，为了设计出合理的关系型数据库，所遵循的不同的规范要求</p>
<ul>
<li><p><strong>第一范式（1NF）</strong>每一列都是不可分割的原子数据项</p>
</li>
<li><p><strong>第二范式（2NF）</strong>在1NF的基础上，非主属性必须完全依赖于主属性（在1NF的基础上，消除非主属性对主属性的部分函数依赖）</p>
</li>
<li><p><strong>第三范式（3NF）</strong>在2NF的基础上，任何非主属性不依赖于其他非主属性（在2NF的基础上，消除传递依赖）</p>
</li>
<li><p><strong>巴斯-科德范式（BCNF）</strong></p>
</li>
<li><p><strong>第四范式(4NF）</strong></p>
</li>
<li><p><strong>第五范式（5NF，又称完美范式</strong>）</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wk</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
